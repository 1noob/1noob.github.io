{"ast":null,"code":"import _slicedToArray from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayModule, ConnectionPositionPair } from '@angular/cdk/overlay';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { EventEmitter, Directive, ElementRef, Renderer2, ViewContainerRef, Input, Output, NgModule, Host, Optional, Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, TemplateRef, ɵɵdefineInjectable, ɵɵinject, Injectable } from '@angular/core';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { POSITION_MAP, NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { Subject, BehaviorSubject, merge, fromEvent, EMPTY, combineLatest, Subscription } from 'rxjs';\nimport { mapTo, map, switchMap, filter, auditTime, distinctUntilChanged, takeUntil, take } from 'rxjs/operators';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonGroupComponent, NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzNoAnimationDirective, NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { MenuService, NzIsMenuInsideDropDownToken, NzMenuModule } from 'ng-zorro-antd/menu';\nimport { slideMotion } from 'ng-zorro-antd/core/animation';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/overlay';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/button';\nimport * as ɵngcc4 from 'ng-zorro-antd/menu';\nimport * as ɵngcc5 from '@angular/cdk/bidi';\nimport * as ɵngcc6 from 'ng-zorro-antd/core/no-animation';\nimport * as ɵngcc7 from '@angular/common';\n\nfunction NzDropdownMenuComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r2 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n    ɵngcc0.ɵɵlistener(\"@slideMotion.done\", function NzDropdownMenuComponent_ng_template_0_Template_div_animation_slideMotion_done_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      var ctx_r1 = ɵngcc0.ɵɵnextContext();\n      return ctx_r1.onAnimationEvent($event);\n    })(\"mouseenter\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseenter_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ctx_r3.setMouseState(true);\n    })(\"mouseleave\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      var ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.setMouseState(false);\n    });\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-dropdown-rtl\", ctx_r0.dir === \"rtl\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r0.nzOverlayClassName)(\"ngStyle\", ctx_r0.nzOverlayStyle)(\"@slideMotion\", undefined)(\"@.disabled\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation)(\"nzNoAnimation\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation);\n  }\n}\n\nvar _c0 = [\"*\"];\nvar listOfPositions = [POSITION_MAP.bottomLeft, POSITION_MAP.bottomRight, POSITION_MAP.topRight, POSITION_MAP.topLeft];\n\nvar NzDropDownDirective = /*#__PURE__*/function () {\n  function NzDropDownDirective(elementRef, overlay, renderer, viewContainerRef, platform) {\n    _classCallCheck(this, NzDropDownDirective);\n\n    this.elementRef = elementRef;\n    this.overlay = overlay;\n    this.renderer = renderer;\n    this.viewContainerRef = viewContainerRef;\n    this.platform = platform;\n    this.overlayRef = null;\n    this.destroy$ = new Subject();\n    this.positionStrategy = this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn('.ant-dropdown');\n    this.inputVisible$ = new BehaviorSubject(false);\n    this.nzTrigger$ = new BehaviorSubject('hover');\n    this.overlayClose$ = new Subject();\n    this.nzDropdownMenu = null;\n    this.nzTrigger = 'hover';\n    this.nzMatchWidthElement = null;\n    /**\n     * @deprecated Not supported, use `nzHasBackDrop` instead.\n     * @breaking-change 12.0.0\n     */\n\n    this.nzBackdrop = false;\n    this.nzHasBackdrop = false;\n    this.nzClickHide = true;\n    this.nzDisabled = false;\n    this.nzVisible = false;\n    this.nzOverlayClassName = '';\n    this.nzOverlayStyle = {};\n    this.nzPlacement = 'bottomLeft';\n    this.nzVisibleChange = new EventEmitter(); // TODO: move to host after View Engine deprecation\n\n    this.elementRef.nativeElement.classList.add('ant-dropdown-trigger');\n  }\n\n  _createClass(NzDropDownDirective, [{\n    key: \"setDropdownMenuValue\",\n    value: function setDropdownMenuValue(key, value) {\n      if (this.nzDropdownMenu) {\n        this.nzDropdownMenu.setValue(key, value);\n      }\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {}\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      var _this = this;\n\n      if (this.nzDropdownMenu) {\n        var nativeElement = this.elementRef.nativeElement;\n        /** host mouse state **/\n\n        var hostMouseState$ = merge(fromEvent(nativeElement, 'mouseenter').pipe(mapTo(true)), fromEvent(nativeElement, 'mouseleave').pipe(mapTo(false)));\n        /** menu mouse state **/\n\n        var menuMouseState$ = this.nzDropdownMenu.mouseState$;\n        /** merged mouse state **/\n\n        var mergedMouseState$ = merge(menuMouseState$, hostMouseState$);\n        /** host click state **/\n\n        var hostClickState$ = fromEvent(nativeElement, 'click').pipe(map(function () {\n          return !_this.nzVisible;\n        }));\n        /** visible state switch by nzTrigger **/\n\n        var visibleStateByTrigger$ = this.nzTrigger$.pipe(switchMap(function (trigger) {\n          if (trigger === 'hover') {\n            return mergedMouseState$;\n          } else if (trigger === 'click') {\n            return hostClickState$;\n          } else {\n            return EMPTY;\n          }\n        }));\n        var descendantMenuItemClick$ = this.nzDropdownMenu.descendantMenuItemClick$.pipe(filter(function () {\n          return _this.nzClickHide;\n        }), mapTo(false));\n        var domTriggerVisible$ = merge(visibleStateByTrigger$, descendantMenuItemClick$, this.overlayClose$).pipe(filter(function () {\n          return !_this.nzDisabled;\n        }));\n        var visible$ = merge(this.inputVisible$, domTriggerVisible$);\n        combineLatest([visible$, this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              visible = _ref2[0],\n              sub = _ref2[1];\n\n          return visible || sub;\n        }), auditTime(150), distinctUntilChanged(), filter(function () {\n          return _this.platform.isBrowser;\n        }), takeUntil(this.destroy$)).subscribe(function (visible) {\n          var element = _this.nzMatchWidthElement ? _this.nzMatchWidthElement.nativeElement : nativeElement;\n          var triggerWidth = element.getBoundingClientRect().width;\n\n          if (_this.nzVisible !== visible) {\n            _this.nzVisibleChange.emit(visible);\n          }\n\n          _this.nzVisible = visible;\n\n          if (visible) {\n            /** set up overlayRef **/\n            if (!_this.overlayRef) {\n              /** new overlay **/\n              _this.overlayRef = _this.overlay.create({\n                positionStrategy: _this.positionStrategy,\n                minWidth: triggerWidth,\n                disposeOnNavigation: true,\n                hasBackdrop: (_this.nzHasBackdrop || _this.nzBackdrop) && _this.nzTrigger === 'click',\n                scrollStrategy: _this.overlay.scrollStrategies.reposition()\n              });\n              merge(_this.overlayRef.backdropClick(), _this.overlayRef.detachments(), _this.overlayRef.outsidePointerEvents().pipe(filter(function (e) {\n                return !_this.elementRef.nativeElement.contains(e.target);\n              })), _this.overlayRef.keydownEvents().pipe(filter(function (e) {\n                return e.keyCode === ESCAPE && !hasModifierKey(e);\n              }))).pipe(takeUntil(_this.destroy$)).subscribe(function () {\n                _this.overlayClose$.next(false);\n              });\n            } else {\n              /** update overlay config **/\n              var overlayConfig = _this.overlayRef.getConfig();\n\n              overlayConfig.minWidth = triggerWidth;\n            }\n            /** open dropdown with animation **/\n\n\n            _this.positionStrategy.withPositions([POSITION_MAP[_this.nzPlacement]].concat(listOfPositions));\n            /** reset portal if needed **/\n\n\n            if (!_this.portal || _this.portal.templateRef !== _this.nzDropdownMenu.templateRef) {\n              _this.portal = new TemplatePortal(_this.nzDropdownMenu.templateRef, _this.viewContainerRef);\n            }\n\n            _this.overlayRef.attach(_this.portal);\n          } else {\n            /** detach overlayRef if needed **/\n            if (_this.overlayRef) {\n              _this.overlayRef.detach();\n            }\n          }\n        });\n        this.nzDropdownMenu.animationStateChange$.pipe(takeUntil(this.destroy$)).subscribe(function (event) {\n          if (event.toState === 'void') {\n            if (_this.overlayRef) {\n              _this.overlayRef.dispose();\n            }\n\n            _this.overlayRef = null;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n\n      if (this.overlayRef) {\n        this.overlayRef.dispose();\n        this.overlayRef = null;\n      }\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzVisible = changes.nzVisible,\n          nzDisabled = changes.nzDisabled,\n          nzOverlayClassName = changes.nzOverlayClassName,\n          nzOverlayStyle = changes.nzOverlayStyle,\n          nzTrigger = changes.nzTrigger,\n          nzBackdrop = changes.nzBackdrop;\n\n      if (nzTrigger) {\n        this.nzTrigger$.next(this.nzTrigger);\n      }\n\n      if (nzVisible) {\n        this.inputVisible$.next(this.nzVisible);\n      }\n\n      if (nzDisabled) {\n        var nativeElement = this.elementRef.nativeElement;\n\n        if (this.nzDisabled) {\n          this.renderer.setAttribute(nativeElement, 'disabled', '');\n          this.inputVisible$.next(false);\n        } else {\n          this.renderer.removeAttribute(nativeElement, 'disabled');\n        }\n      }\n\n      if (nzOverlayClassName) {\n        this.setDropdownMenuValue('nzOverlayClassName', this.nzOverlayClassName);\n      }\n\n      if (nzOverlayStyle) {\n        this.setDropdownMenuValue('nzOverlayStyle', this.nzOverlayStyle);\n      }\n\n      if (nzBackdrop) {\n        warnDeprecation('`nzBackdrop` in dropdown component will be removed in 12.0.0, please use `nzHasBackdrop` instead.');\n      }\n    }\n  }]);\n\n  return NzDropDownDirective;\n}();\n\nNzDropDownDirective.ɵfac = function NzDropDownDirective_Factory(t) {\n  return new (t || NzDropDownDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform));\n};\n\nNzDropDownDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzDropDownDirective,\n  selectors: [[\"\", \"nz-dropdown\", \"\"]],\n  inputs: {\n    nzDropdownMenu: \"nzDropdownMenu\",\n    nzTrigger: \"nzTrigger\",\n    nzMatchWidthElement: \"nzMatchWidthElement\",\n    nzBackdrop: \"nzBackdrop\",\n    nzHasBackdrop: \"nzHasBackdrop\",\n    nzClickHide: \"nzClickHide\",\n    nzDisabled: \"nzDisabled\",\n    nzVisible: \"nzVisible\",\n    nzOverlayClassName: \"nzOverlayClassName\",\n    nzOverlayStyle: \"nzOverlayStyle\",\n    nzPlacement: \"nzPlacement\"\n  },\n  outputs: {\n    nzVisibleChange: \"nzVisibleChange\"\n  },\n  exportAs: [\"nzDropdown\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature]\n});\n\nNzDropDownDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Overlay\n  }, {\n    type: Renderer2\n  }, {\n    type: ViewContainerRef\n  }, {\n    type: Platform\n  }];\n};\n\nNzDropDownDirective.propDecorators = {\n  nzDropdownMenu: [{\n    type: Input\n  }],\n  nzTrigger: [{\n    type: Input\n  }],\n  nzMatchWidthElement: [{\n    type: Input\n  }],\n  nzBackdrop: [{\n    type: Input\n  }],\n  nzHasBackdrop: [{\n    type: Input\n  }],\n  nzClickHide: [{\n    type: Input\n  }],\n  nzDisabled: [{\n    type: Input\n  }],\n  nzVisible: [{\n    type: Input\n  }],\n  nzOverlayClassName: [{\n    type: Input\n  }],\n  nzOverlayStyle: [{\n    type: Input\n  }],\n  nzPlacement: [{\n    type: Input\n  }],\n  nzVisibleChange: [{\n    type: Output\n  }]\n};\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzDropDownDirective.prototype, \"nzBackdrop\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzDropDownDirective.prototype, \"nzHasBackdrop\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzDropDownDirective.prototype, \"nzClickHide\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzDropDownDirective.prototype, \"nzDisabled\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzDropDownDirective.prototype, \"nzVisible\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nz-dropdown]',\n      exportAs: 'nzDropdown'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.Overlay\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc2.Platform\n    }];\n  }, {\n    nzDropdownMenu: [{\n      type: Input\n    }],\n    nzTrigger: [{\n      type: Input\n    }],\n    nzMatchWidthElement: [{\n      type: Input\n    }],\n    nzBackdrop: [{\n      type: Input\n    }],\n    nzHasBackdrop: [{\n      type: Input\n    }],\n    nzClickHide: [{\n      type: Input\n    }],\n    nzDisabled: [{\n      type: Input\n    }],\n    nzVisible: [{\n      type: Input\n    }],\n    nzOverlayClassName: [{\n      type: Input\n    }],\n    nzOverlayStyle: [{\n      type: Input\n    }],\n    nzPlacement: [{\n      type: Input\n    }],\n    nzVisibleChange: [{\n      type: Output\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzContextMenuServiceModule = function NzContextMenuServiceModule() {\n  _classCallCheck(this, NzContextMenuServiceModule);\n};\n\nNzContextMenuServiceModule.ɵfac = function NzContextMenuServiceModule_Factory(t) {\n  return new (t || NzContextMenuServiceModule)();\n};\n\nNzContextMenuServiceModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: NzContextMenuServiceModule\n});\nNzContextMenuServiceModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzContextMenuServiceModule, [{\n    type: NgModule\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzDropDownADirective = function NzDropDownADirective(elementRef) {\n  _classCallCheck(this, NzDropDownADirective);\n\n  this.elementRef = elementRef; // TODO: move to host after View Engine deprecation\n\n  this.elementRef.nativeElement.classList.add('ant-dropdown-link');\n};\n\nNzDropDownADirective.ɵfac = function NzDropDownADirective_Factory(t) {\n  return new (t || NzDropDownADirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nNzDropDownADirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzDropDownADirective,\n  selectors: [[\"a\", \"nz-dropdown\", \"\"]]\n});\n\nNzDropDownADirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownADirective, [{\n    type: Directive,\n    args: [{\n      selector: 'a[nz-dropdown]'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzDropdownButtonDirective = /*#__PURE__*/function () {\n  function NzDropdownButtonDirective(renderer, nzButtonGroupComponent, elementRef) {\n    _classCallCheck(this, NzDropdownButtonDirective);\n\n    this.renderer = renderer;\n    this.nzButtonGroupComponent = nzButtonGroupComponent;\n    this.elementRef = elementRef;\n  }\n\n  _createClass(NzDropdownButtonDirective, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      var parentElement = this.renderer.parentNode(this.elementRef.nativeElement);\n\n      if (this.nzButtonGroupComponent && parentElement) {\n        this.renderer.addClass(parentElement, 'ant-dropdown-button');\n      }\n    }\n  }]);\n\n  return NzDropdownButtonDirective;\n}();\n\nNzDropdownButtonDirective.ɵfac = function NzDropdownButtonDirective_Factory(t) {\n  return new (t || NzDropdownButtonDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzButtonGroupComponent, 9), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nNzDropdownButtonDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzDropdownButtonDirective,\n  selectors: [[\"\", \"nz-button\", \"\", \"nz-dropdown\", \"\"]]\n});\n\nNzDropdownButtonDirective.ctorParameters = function () {\n  return [{\n    type: Renderer2\n  }, {\n    type: NzButtonGroupComponent,\n    decorators: [{\n      type: Host\n    }, {\n      type: Optional\n    }]\n  }, {\n    type: ElementRef\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropdownButtonDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nz-button][nz-dropdown]'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc3.NzButtonGroupComponent,\n      decorators: [{\n        type: Host\n      }, {\n        type: Optional\n      }]\n    }, {\n      type: ɵngcc0.ElementRef\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzDropdownMenuComponent = /*#__PURE__*/function () {\n  function NzDropdownMenuComponent(cdr, elementRef, renderer, viewContainerRef, nzMenuService, directionality, noAnimation) {\n    _classCallCheck(this, NzDropdownMenuComponent);\n\n    this.cdr = cdr;\n    this.elementRef = elementRef;\n    this.renderer = renderer;\n    this.viewContainerRef = viewContainerRef;\n    this.nzMenuService = nzMenuService;\n    this.directionality = directionality;\n    this.noAnimation = noAnimation;\n    this.mouseState$ = new BehaviorSubject(false);\n    this.isChildSubMenuOpen$ = this.nzMenuService.isChildSubMenuOpen$;\n    this.descendantMenuItemClick$ = this.nzMenuService.descendantMenuItemClick$;\n    this.animationStateChange$ = new EventEmitter();\n    this.nzOverlayClassName = '';\n    this.nzOverlayStyle = {};\n    this.dir = 'ltr';\n    this.destroy$ = new Subject();\n  }\n\n  _createClass(NzDropdownMenuComponent, [{\n    key: \"onAnimationEvent\",\n    value: function onAnimationEvent(event) {\n      this.animationStateChange$.emit(event);\n    }\n  }, {\n    key: \"setMouseState\",\n    value: function setMouseState(visible) {\n      this.mouseState$.next(visible);\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(key, value) {\n      this[key] = value;\n      this.cdr.markForCheck();\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this2 = this;\n\n      var _a;\n\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(function (direction) {\n        _this2.dir = direction;\n\n        _this2.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement), this.elementRef.nativeElement);\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }]);\n\n  return NzDropdownMenuComponent;\n}();\n\nNzDropdownMenuComponent.ɵfac = function NzDropdownMenuComponent_Factory(t) {\n  return new (t || NzDropdownMenuComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.MenuService), ɵngcc0.ɵɵdirectiveInject(ɵngcc5.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc6.NzNoAnimationDirective, 9));\n};\n\nNzDropdownMenuComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: NzDropdownMenuComponent,\n  selectors: [[\"nz-dropdown-menu\"]],\n  viewQuery: function NzDropdownMenuComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(TemplateRef, 7);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);\n    }\n  },\n  exportAs: [\"nzDropdownMenu\"],\n  features: [ɵngcc0.ɵɵProvidersFeature([MenuService,\n  /** menu is inside dropdown-menu component **/\n  {\n    provide: NzIsMenuInsideDropDownToken,\n    useValue: true\n  }])],\n  ngContentSelectors: _c0,\n  decls: 1,\n  vars: 0,\n  consts: [[1, \"ant-dropdown\", 3, \"ngClass\", \"ngStyle\", \"nzNoAnimation\", \"mouseenter\", \"mouseleave\"]],\n  template: function NzDropdownMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, NzDropdownMenuComponent_ng_template_0_Template, 2, 7, \"ng-template\");\n    }\n  },\n  directives: [ɵngcc7.NgClass, ɵngcc7.NgStyle, ɵngcc6.NzNoAnimationDirective],\n  encapsulation: 2,\n  data: {\n    animation: [slideMotion]\n  },\n  changeDetection: 0\n});\n\nNzDropdownMenuComponent.ctorParameters = function () {\n  return [{\n    type: ChangeDetectorRef\n  }, {\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }, {\n    type: ViewContainerRef\n  }, {\n    type: MenuService\n  }, {\n    type: Directionality,\n    decorators: [{\n      type: Optional\n    }]\n  }, {\n    type: NzNoAnimationDirective,\n    decorators: [{\n      type: Host\n    }, {\n      type: Optional\n    }]\n  }];\n};\n\nNzDropdownMenuComponent.propDecorators = {\n  templateRef: [{\n    type: ViewChild,\n    args: [TemplateRef, {\n      static: true\n    }]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropdownMenuComponent, [{\n    type: Component,\n    args: [{\n      selector: \"nz-dropdown-menu\",\n      exportAs: \"nzDropdownMenu\",\n      animations: [slideMotion],\n      providers: [MenuService,\n      /** menu is inside dropdown-menu component **/\n      {\n        provide: NzIsMenuInsideDropDownToken,\n        useValue: true\n      }],\n      template: \"\\n    <ng-template>\\n      <div\\n        class=\\\"ant-dropdown\\\"\\n        [class.ant-dropdown-rtl]=\\\"dir === 'rtl'\\\"\\n        [ngClass]=\\\"nzOverlayClassName\\\"\\n        [ngStyle]=\\\"nzOverlayStyle\\\"\\n        @slideMotion\\n        (@slideMotion.done)=\\\"onAnimationEvent($event)\\\"\\n        [@.disabled]=\\\"noAnimation?.nzNoAnimation\\\"\\n        [nzNoAnimation]=\\\"noAnimation?.nzNoAnimation\\\"\\n        (mouseenter)=\\\"setMouseState(true)\\\"\\n        (mouseleave)=\\\"setMouseState(false)\\\"\\n      >\\n        <ng-content></ng-content>\\n      </div>\\n    </ng-template>\\n  \",\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: ɵngcc4.MenuService\n    }, {\n      type: ɵngcc5.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }, {\n      type: ɵngcc6.NzNoAnimationDirective,\n      decorators: [{\n        type: Host\n      }, {\n        type: Optional\n      }]\n    }];\n  }, {\n    templateRef: [{\n      type: ViewChild,\n      args: [TemplateRef, {\n        static: true\n      }]\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzDropDownModule = function NzDropDownModule() {\n  _classCallCheck(this, NzDropDownModule);\n};\n\nNzDropDownModule.ɵfac = function NzDropDownModule_Factory(t) {\n  return new (t || NzDropDownModule)();\n};\n\nNzDropDownModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: NzDropDownModule\n});\nNzDropDownModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, OverlayModule, FormsModule, NzButtonModule, NzMenuModule, NzIconModule, NzNoAnimationModule, PlatformModule, NzOverlayModule, NzContextMenuServiceModule, NzOutletModule], NzMenuModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownModule, [{\n    type: NgModule,\n    args: [{\n      imports: [BidiModule, CommonModule, OverlayModule, FormsModule, NzButtonModule, NzMenuModule, NzIconModule, NzNoAnimationModule, PlatformModule, NzOverlayModule, NzContextMenuServiceModule, NzOutletModule],\n      entryComponents: [NzDropdownMenuComponent],\n      declarations: [NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective],\n      exports: [NzMenuModule, NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzDropDownModule, {\n    declarations: function declarations() {\n      return [NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, OverlayModule, FormsModule, NzButtonModule, NzMenuModule, NzIconModule, NzNoAnimationModule, PlatformModule, NzOverlayModule, NzContextMenuServiceModule, NzOutletModule];\n    },\n    exports: function exports() {\n      return [NzMenuModule, NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar listOfPositions$1 = [new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'start',\n  overlayY: 'top'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'start',\n  overlayY: 'bottom'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'end',\n  overlayY: 'bottom'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'end',\n  overlayY: 'top'\n})];\n\nvar NzContextMenuService = /*#__PURE__*/function () {\n  function NzContextMenuService(overlay) {\n    _classCallCheck(this, NzContextMenuService);\n\n    this.overlay = overlay;\n    this.overlayRef = null;\n    this.closeSubscription = Subscription.EMPTY;\n  }\n\n  _createClass(NzContextMenuService, [{\n    key: \"create\",\n    value: function create($event, nzDropdownMenuComponent) {\n      var _this3 = this;\n\n      this.close(true);\n      var x = $event.x,\n          y = $event.y;\n\n      if ($event instanceof MouseEvent) {\n        $event.preventDefault();\n      }\n\n      var positionStrategy = this.overlay.position().flexibleConnectedTo({\n        x: x,\n        y: y\n      }).withPositions(listOfPositions$1).withTransformOriginOn('.ant-dropdown');\n      this.overlayRef = this.overlay.create({\n        positionStrategy: positionStrategy,\n        disposeOnNavigation: true,\n        scrollStrategy: this.overlay.scrollStrategies.close()\n      });\n      this.closeSubscription = merge(nzDropdownMenuComponent.descendantMenuItemClick$, fromEvent(document, 'click').pipe(filter(function (event) {\n        return !!_this3.overlayRef && !_this3.overlayRef.overlayElement.contains(event.target);\n      }),\n      /** handle firefox contextmenu event **/\n      filter(function (event) {\n        return event.button !== 2;\n      }), take(1))).subscribe(function () {\n        _this3.close();\n      });\n      this.overlayRef.attach(new TemplatePortal(nzDropdownMenuComponent.templateRef, nzDropdownMenuComponent.viewContainerRef));\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var clear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.overlayRef) {\n        this.overlayRef.detach();\n\n        if (clear) {\n          this.overlayRef.dispose();\n        }\n\n        this.overlayRef = null;\n        this.closeSubscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return NzContextMenuService;\n}();\n\nNzContextMenuService.ɵfac = function NzContextMenuService_Factory(t) {\n  return new (t || NzContextMenuService)(ɵngcc0.ɵɵinject(ɵngcc1.Overlay));\n};\n\nNzContextMenuService.ɵprov = ɵɵdefineInjectable({\n  factory: function NzContextMenuService_Factory() {\n    return new NzContextMenuService(ɵɵinject(Overlay));\n  },\n  token: NzContextMenuService,\n  providedIn: NzContextMenuServiceModule\n});\n\nNzContextMenuService.ctorParameters = function () {\n  return [{\n    type: Overlay\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzContextMenuService, [{\n    type: Injectable,\n    args: [{\n      providedIn: NzContextMenuServiceModule\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.Overlay\n    }];\n  }, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzContextMenuService, NzContextMenuServiceModule, NzDropDownADirective, NzDropDownDirective, NzDropDownModule, NzDropdownButtonDirective, NzDropdownMenuComponent }; //# sourceMappingURL=ng-zorro-antd-dropdown.js.map","map":{"version":3,"sources":["/Users/mac/WebstormProjects/github-page/node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-dropdown.js"],"names":["__decorate","__metadata","ESCAPE","hasModifierKey","Overlay","OverlayModule","ConnectionPositionPair","Platform","PlatformModule","TemplatePortal","EventEmitter","Directive","ElementRef","Renderer2","ViewContainerRef","Input","Output","NgModule","Host","Optional","Component","ViewEncapsulation","ChangeDetectionStrategy","ChangeDetectorRef","ViewChild","TemplateRef","ɵɵdefineInjectable","ɵɵinject","Injectable","warnDeprecation","POSITION_MAP","NzOverlayModule","InputBoolean","Subject","BehaviorSubject","merge","fromEvent","EMPTY","combineLatest","Subscription","mapTo","map","switchMap","filter","auditTime","distinctUntilChanged","takeUntil","take","Directionality","BidiModule","CommonModule","FormsModule","NzButtonGroupComponent","NzButtonModule","NzNoAnimationDirective","NzNoAnimationModule","NzOutletModule","NzIconModule","MenuService","NzIsMenuInsideDropDownToken","NzMenuModule","slideMotion","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","ɵngcc5","ɵngcc6","ɵngcc7","NzDropdownMenuComponent_ng_template_0_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","NzDropdownMenuComponent_ng_template_0_Template_div_animation_slideMotion_done_0_listener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","onAnimationEvent","NzDropdownMenuComponent_ng_template_0_Template_div_mouseenter_0_listener","ctx_r3","setMouseState","NzDropdownMenuComponent_ng_template_0_Template_div_mouseleave_0_listener","ctx_r4","ɵɵprojection","ɵɵelementEnd","ctx_r0","ɵɵclassProp","dir","ɵɵproperty","nzOverlayClassName","nzOverlayStyle","undefined","noAnimation","nzNoAnimation","_c0","listOfPositions","bottomLeft","bottomRight","topRight","topLeft","NzDropDownDirective","elementRef","overlay","renderer","viewContainerRef","platform","overlayRef","destroy$","positionStrategy","position","flexibleConnectedTo","nativeElement","withLockedPosition","withTransformOriginOn","inputVisible$","nzTrigger$","overlayClose$","nzDropdownMenu","nzTrigger","nzMatchWidthElement","nzBackdrop","nzHasBackdrop","nzClickHide","nzDisabled","nzVisible","nzPlacement","nzVisibleChange","classList","add","key","value","setValue","hostMouseState$","pipe","menuMouseState$","mouseState$","mergedMouseState$","hostClickState$","visibleStateByTrigger$","trigger","descendantMenuItemClick$","domTriggerVisible$","visible$","isChildSubMenuOpen$","visible","sub","isBrowser","subscribe","element","triggerWidth","getBoundingClientRect","width","emit","create","minWidth","disposeOnNavigation","hasBackdrop","scrollStrategy","scrollStrategies","reposition","backdropClick","detachments","outsidePointerEvents","e","contains","target","keydownEvents","keyCode","next","overlayConfig","getConfig","withPositions","portal","templateRef","attach","detach","animationStateChange$","event","toState","dispose","complete","changes","setAttribute","removeAttribute","setDropdownMenuValue","ɵfac","NzDropDownDirective_Factory","t","ɵɵdirectiveInject","ɵdir","ɵɵdefineDirective","type","selectors","inputs","outputs","exportAs","features","ɵɵNgOnChangesFeature","ctorParameters","propDecorators","Object","prototype","ngDevMode","ɵsetClassMetadata","args","selector","NzContextMenuServiceModule","NzContextMenuServiceModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","NzDropDownADirective","NzDropDownADirective_Factory","NzDropdownButtonDirective","nzButtonGroupComponent","parentElement","parentNode","addClass","NzDropdownButtonDirective_Factory","decorators","NzDropdownMenuComponent","cdr","nzMenuService","directionality","markForCheck","_a","change","direction","detectChanges","removeChild","NzDropdownMenuComponent_Factory","ɵcmp","ɵɵdefineComponent","viewQuery","NzDropdownMenuComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","ɵɵProvidersFeature","provide","useValue","ngContentSelectors","decls","vars","consts","template","NzDropdownMenuComponent_Template","ɵɵprojectionDef","ɵɵtemplate","directives","NgClass","NgStyle","encapsulation","data","animation","changeDetection","static","animations","providers","preserveWhitespaces","None","OnPush","NzDropDownModule","NzDropDownModule_Factory","imports","entryComponents","declarations","exports","ngJitMode","ɵɵsetNgModuleScope","listOfPositions$1","originX","originY","overlayX","overlayY","NzContextMenuService","closeSubscription","nzDropdownMenuComponent","close","x","y","MouseEvent","preventDefault","document","overlayElement","button","clear","unsubscribe","NzContextMenuService_Factory","ɵprov","factory","token","providedIn"],"mappings":"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","sourcesContent":["import { __decorate, __metadata } from 'tslib';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { Overlay, OverlayModule, ConnectionPositionPair } from '@angular/cdk/overlay';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { EventEmitter, Directive, ElementRef, Renderer2, ViewContainerRef, Input, Output, NgModule, Host, Optional, Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, TemplateRef, ɵɵdefineInjectable, ɵɵinject, Injectable } from '@angular/core';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { POSITION_MAP, NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { Subject, BehaviorSubject, merge, fromEvent, EMPTY, combineLatest, Subscription } from 'rxjs';\nimport { mapTo, map, switchMap, filter, auditTime, distinctUntilChanged, takeUntil, take } from 'rxjs/operators';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonGroupComponent, NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzNoAnimationDirective, NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { MenuService, NzIsMenuInsideDropDownToken, NzMenuModule } from 'ng-zorro-antd/menu';\nimport { slideMotion } from 'ng-zorro-antd/core/animation';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/overlay';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/button';\nimport * as ɵngcc4 from 'ng-zorro-antd/menu';\nimport * as ɵngcc5 from '@angular/cdk/bidi';\nimport * as ɵngcc6 from 'ng-zorro-antd/core/no-animation';\nimport * as ɵngcc7 from '@angular/common';\n\nfunction NzDropdownMenuComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {\n    const _r2 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n    ɵngcc0.ɵɵlistener(\"@slideMotion.done\", function NzDropdownMenuComponent_ng_template_0_Template_div_animation_slideMotion_done_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.onAnimationEvent($event); })(\"mouseenter\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseenter_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.setMouseState(true); })(\"mouseleave\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseleave_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); const ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.setMouseState(false); });\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-dropdown-rtl\", ctx_r0.dir === \"rtl\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r0.nzOverlayClassName)(\"ngStyle\", ctx_r0.nzOverlayStyle)(\"@slideMotion\", undefined)(\"@.disabled\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation)(\"nzNoAnimation\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation);\n} }\nconst _c0 = [\"*\"];\nconst listOfPositions = [POSITION_MAP.bottomLeft, POSITION_MAP.bottomRight, POSITION_MAP.topRight, POSITION_MAP.topLeft];\nclass NzDropDownDirective {\n    constructor(elementRef, overlay, renderer, viewContainerRef, platform) {\n        this.elementRef = elementRef;\n        this.overlay = overlay;\n        this.renderer = renderer;\n        this.viewContainerRef = viewContainerRef;\n        this.platform = platform;\n        this.overlayRef = null;\n        this.destroy$ = new Subject();\n        this.positionStrategy = this.overlay\n            .position()\n            .flexibleConnectedTo(this.elementRef.nativeElement)\n            .withLockedPosition()\n            .withTransformOriginOn('.ant-dropdown');\n        this.inputVisible$ = new BehaviorSubject(false);\n        this.nzTrigger$ = new BehaviorSubject('hover');\n        this.overlayClose$ = new Subject();\n        this.nzDropdownMenu = null;\n        this.nzTrigger = 'hover';\n        this.nzMatchWidthElement = null;\n        /**\n         * @deprecated Not supported, use `nzHasBackDrop` instead.\n         * @breaking-change 12.0.0\n         */\n        this.nzBackdrop = false;\n        this.nzHasBackdrop = false;\n        this.nzClickHide = true;\n        this.nzDisabled = false;\n        this.nzVisible = false;\n        this.nzOverlayClassName = '';\n        this.nzOverlayStyle = {};\n        this.nzPlacement = 'bottomLeft';\n        this.nzVisibleChange = new EventEmitter();\n        // TODO: move to host after View Engine deprecation\n        this.elementRef.nativeElement.classList.add('ant-dropdown-trigger');\n    }\n    setDropdownMenuValue(key, value) {\n        if (this.nzDropdownMenu) {\n            this.nzDropdownMenu.setValue(key, value);\n        }\n    }\n    ngOnInit() { }\n    ngAfterViewInit() {\n        if (this.nzDropdownMenu) {\n            const nativeElement = this.elementRef.nativeElement;\n            /** host mouse state **/\n            const hostMouseState$ = merge(fromEvent(nativeElement, 'mouseenter').pipe(mapTo(true)), fromEvent(nativeElement, 'mouseleave').pipe(mapTo(false)));\n            /** menu mouse state **/\n            const menuMouseState$ = this.nzDropdownMenu.mouseState$;\n            /** merged mouse state **/\n            const mergedMouseState$ = merge(menuMouseState$, hostMouseState$);\n            /** host click state **/\n            const hostClickState$ = fromEvent(nativeElement, 'click').pipe(map(() => !this.nzVisible));\n            /** visible state switch by nzTrigger **/\n            const visibleStateByTrigger$ = this.nzTrigger$.pipe(switchMap(trigger => {\n                if (trigger === 'hover') {\n                    return mergedMouseState$;\n                }\n                else if (trigger === 'click') {\n                    return hostClickState$;\n                }\n                else {\n                    return EMPTY;\n                }\n            }));\n            const descendantMenuItemClick$ = this.nzDropdownMenu.descendantMenuItemClick$.pipe(filter(() => this.nzClickHide), mapTo(false));\n            const domTriggerVisible$ = merge(visibleStateByTrigger$, descendantMenuItemClick$, this.overlayClose$).pipe(filter(() => !this.nzDisabled));\n            const visible$ = merge(this.inputVisible$, domTriggerVisible$);\n            combineLatest([visible$, this.nzDropdownMenu.isChildSubMenuOpen$])\n                .pipe(map(([visible, sub]) => visible || sub), auditTime(150), distinctUntilChanged(), filter(() => this.platform.isBrowser), takeUntil(this.destroy$))\n                .subscribe((visible) => {\n                const element = this.nzMatchWidthElement ? this.nzMatchWidthElement.nativeElement : nativeElement;\n                const triggerWidth = element.getBoundingClientRect().width;\n                if (this.nzVisible !== visible) {\n                    this.nzVisibleChange.emit(visible);\n                }\n                this.nzVisible = visible;\n                if (visible) {\n                    /** set up overlayRef **/\n                    if (!this.overlayRef) {\n                        /** new overlay **/\n                        this.overlayRef = this.overlay.create({\n                            positionStrategy: this.positionStrategy,\n                            minWidth: triggerWidth,\n                            disposeOnNavigation: true,\n                            hasBackdrop: (this.nzHasBackdrop || this.nzBackdrop) && this.nzTrigger === 'click',\n                            scrollStrategy: this.overlay.scrollStrategies.reposition()\n                        });\n                        merge(this.overlayRef.backdropClick(), this.overlayRef.detachments(), this.overlayRef.outsidePointerEvents().pipe(filter((e) => !this.elementRef.nativeElement.contains(e.target))), this.overlayRef.keydownEvents().pipe(filter(e => e.keyCode === ESCAPE && !hasModifierKey(e))))\n                            .pipe(takeUntil(this.destroy$))\n                            .subscribe(() => {\n                            this.overlayClose$.next(false);\n                        });\n                    }\n                    else {\n                        /** update overlay config **/\n                        const overlayConfig = this.overlayRef.getConfig();\n                        overlayConfig.minWidth = triggerWidth;\n                    }\n                    /** open dropdown with animation **/\n                    this.positionStrategy.withPositions([POSITION_MAP[this.nzPlacement], ...listOfPositions]);\n                    /** reset portal if needed **/\n                    if (!this.portal || this.portal.templateRef !== this.nzDropdownMenu.templateRef) {\n                        this.portal = new TemplatePortal(this.nzDropdownMenu.templateRef, this.viewContainerRef);\n                    }\n                    this.overlayRef.attach(this.portal);\n                }\n                else {\n                    /** detach overlayRef if needed **/\n                    if (this.overlayRef) {\n                        this.overlayRef.detach();\n                    }\n                }\n            });\n            this.nzDropdownMenu.animationStateChange$.pipe(takeUntil(this.destroy$)).subscribe(event => {\n                if (event.toState === 'void') {\n                    if (this.overlayRef) {\n                        this.overlayRef.dispose();\n                    }\n                    this.overlayRef = null;\n                }\n            });\n        }\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n        if (this.overlayRef) {\n            this.overlayRef.dispose();\n            this.overlayRef = null;\n        }\n    }\n    ngOnChanges(changes) {\n        const { nzVisible, nzDisabled, nzOverlayClassName, nzOverlayStyle, nzTrigger, nzBackdrop } = changes;\n        if (nzTrigger) {\n            this.nzTrigger$.next(this.nzTrigger);\n        }\n        if (nzVisible) {\n            this.inputVisible$.next(this.nzVisible);\n        }\n        if (nzDisabled) {\n            const nativeElement = this.elementRef.nativeElement;\n            if (this.nzDisabled) {\n                this.renderer.setAttribute(nativeElement, 'disabled', '');\n                this.inputVisible$.next(false);\n            }\n            else {\n                this.renderer.removeAttribute(nativeElement, 'disabled');\n            }\n        }\n        if (nzOverlayClassName) {\n            this.setDropdownMenuValue('nzOverlayClassName', this.nzOverlayClassName);\n        }\n        if (nzOverlayStyle) {\n            this.setDropdownMenuValue('nzOverlayStyle', this.nzOverlayStyle);\n        }\n        if (nzBackdrop) {\n            warnDeprecation('`nzBackdrop` in dropdown component will be removed in 12.0.0, please use `nzHasBackdrop` instead.');\n        }\n    }\n}\nNzDropDownDirective.ɵfac = function NzDropDownDirective_Factory(t) { return new (t || NzDropDownDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform)); };\nNzDropDownDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzDropDownDirective, selectors: [[\"\", \"nz-dropdown\", \"\"]], inputs: { nzDropdownMenu: \"nzDropdownMenu\", nzTrigger: \"nzTrigger\", nzMatchWidthElement: \"nzMatchWidthElement\", nzBackdrop: \"nzBackdrop\", nzHasBackdrop: \"nzHasBackdrop\", nzClickHide: \"nzClickHide\", nzDisabled: \"nzDisabled\", nzVisible: \"nzVisible\", nzOverlayClassName: \"nzOverlayClassName\", nzOverlayStyle: \"nzOverlayStyle\", nzPlacement: \"nzPlacement\" }, outputs: { nzVisibleChange: \"nzVisibleChange\" }, exportAs: [\"nzDropdown\"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });\nNzDropDownDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Overlay },\n    { type: Renderer2 },\n    { type: ViewContainerRef },\n    { type: Platform }\n];\nNzDropDownDirective.propDecorators = {\n    nzDropdownMenu: [{ type: Input }],\n    nzTrigger: [{ type: Input }],\n    nzMatchWidthElement: [{ type: Input }],\n    nzBackdrop: [{ type: Input }],\n    nzHasBackdrop: [{ type: Input }],\n    nzClickHide: [{ type: Input }],\n    nzDisabled: [{ type: Input }],\n    nzVisible: [{ type: Input }],\n    nzOverlayClassName: [{ type: Input }],\n    nzOverlayStyle: [{ type: Input }],\n    nzPlacement: [{ type: Input }],\n    nzVisibleChange: [{ type: Output }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDropDownDirective.prototype, \"nzBackdrop\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDropDownDirective.prototype, \"nzHasBackdrop\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDropDownDirective.prototype, \"nzClickHide\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDropDownDirective.prototype, \"nzDisabled\", void 0);\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzDropDownDirective.prototype, \"nzVisible\", void 0);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[nz-dropdown]',\n                exportAs: 'nzDropdown'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.Overlay }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc2.Platform }]; }, { nzDropdownMenu: [{\n            type: Input\n        }], nzTrigger: [{\n            type: Input\n        }], nzMatchWidthElement: [{\n            type: Input\n        }], nzBackdrop: [{\n            type: Input\n        }], nzHasBackdrop: [{\n            type: Input\n        }], nzClickHide: [{\n            type: Input\n        }], nzDisabled: [{\n            type: Input\n        }], nzVisible: [{\n            type: Input\n        }], nzOverlayClassName: [{\n            type: Input\n        }], nzOverlayStyle: [{\n            type: Input\n        }], nzPlacement: [{\n            type: Input\n        }], nzVisibleChange: [{\n            type: Output\n        }] }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzContextMenuServiceModule {\n}\nNzContextMenuServiceModule.ɵfac = function NzContextMenuServiceModule_Factory(t) { return new (t || NzContextMenuServiceModule)(); };\nNzContextMenuServiceModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NzContextMenuServiceModule });\nNzContextMenuServiceModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzContextMenuServiceModule, [{\n        type: NgModule\n    }], null, null); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzDropDownADirective {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        // TODO: move to host after View Engine deprecation\n        this.elementRef.nativeElement.classList.add('ant-dropdown-link');\n    }\n}\nNzDropDownADirective.ɵfac = function NzDropDownADirective_Factory(t) { return new (t || NzDropDownADirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nNzDropDownADirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzDropDownADirective, selectors: [[\"a\", \"nz-dropdown\", \"\"]] });\nNzDropDownADirective.ctorParameters = () => [\n    { type: ElementRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownADirective, [{\n        type: Directive,\n        args: [{\n                selector: 'a[nz-dropdown]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, null); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzDropdownButtonDirective {\n    constructor(renderer, nzButtonGroupComponent, elementRef) {\n        this.renderer = renderer;\n        this.nzButtonGroupComponent = nzButtonGroupComponent;\n        this.elementRef = elementRef;\n    }\n    ngAfterViewInit() {\n        const parentElement = this.renderer.parentNode(this.elementRef.nativeElement);\n        if (this.nzButtonGroupComponent && parentElement) {\n            this.renderer.addClass(parentElement, 'ant-dropdown-button');\n        }\n    }\n}\nNzDropdownButtonDirective.ɵfac = function NzDropdownButtonDirective_Factory(t) { return new (t || NzDropdownButtonDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzButtonGroupComponent, 9), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nNzDropdownButtonDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzDropdownButtonDirective, selectors: [[\"\", \"nz-button\", \"\", \"nz-dropdown\", \"\"]] });\nNzDropdownButtonDirective.ctorParameters = () => [\n    { type: Renderer2 },\n    { type: NzButtonGroupComponent, decorators: [{ type: Host }, { type: Optional }] },\n    { type: ElementRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropdownButtonDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[nz-button][nz-dropdown]'\n            }]\n    }], function () { return [{ type: ɵngcc0.Renderer2 }, { type: ɵngcc3.NzButtonGroupComponent, decorators: [{\n                type: Host\n            }, {\n                type: Optional\n            }] }, { type: ɵngcc0.ElementRef }]; }, null); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzDropdownMenuComponent {\n    constructor(cdr, elementRef, renderer, viewContainerRef, nzMenuService, directionality, noAnimation) {\n        this.cdr = cdr;\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.viewContainerRef = viewContainerRef;\n        this.nzMenuService = nzMenuService;\n        this.directionality = directionality;\n        this.noAnimation = noAnimation;\n        this.mouseState$ = new BehaviorSubject(false);\n        this.isChildSubMenuOpen$ = this.nzMenuService.isChildSubMenuOpen$;\n        this.descendantMenuItemClick$ = this.nzMenuService.descendantMenuItemClick$;\n        this.animationStateChange$ = new EventEmitter();\n        this.nzOverlayClassName = '';\n        this.nzOverlayStyle = {};\n        this.dir = 'ltr';\n        this.destroy$ = new Subject();\n    }\n    onAnimationEvent(event) {\n        this.animationStateChange$.emit(event);\n    }\n    setMouseState(visible) {\n        this.mouseState$.next(visible);\n    }\n    setValue(key, value) {\n        this[key] = value;\n        this.cdr.markForCheck();\n    }\n    ngOnInit() {\n        var _a;\n        (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe((direction) => {\n            this.dir = direction;\n            this.cdr.detectChanges();\n        });\n        this.dir = this.directionality.value;\n    }\n    ngAfterContentInit() {\n        this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement), this.elementRef.nativeElement);\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n}\nNzDropdownMenuComponent.ɵfac = function NzDropdownMenuComponent_Factory(t) { return new (t || NzDropdownMenuComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.MenuService), ɵngcc0.ɵɵdirectiveInject(ɵngcc5.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc6.NzNoAnimationDirective, 9)); };\nNzDropdownMenuComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NzDropdownMenuComponent, selectors: [[\"nz-dropdown-menu\"]], viewQuery: function NzDropdownMenuComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(TemplateRef, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);\n    } }, exportAs: [\"nzDropdownMenu\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            MenuService,\n            /** menu is inside dropdown-menu component **/\n            {\n                provide: NzIsMenuInsideDropDownToken,\n                useValue: true\n            }\n        ])], ngContentSelectors: _c0, decls: 1, vars: 0, consts: [[1, \"ant-dropdown\", 3, \"ngClass\", \"ngStyle\", \"nzNoAnimation\", \"mouseenter\", \"mouseleave\"]], template: function NzDropdownMenuComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzDropdownMenuComponent_ng_template_0_Template, 2, 7, \"ng-template\");\n    } }, directives: [ɵngcc7.NgClass, ɵngcc7.NgStyle, ɵngcc6.NzNoAnimationDirective], encapsulation: 2, data: { animation: [slideMotion] }, changeDetection: 0 });\nNzDropdownMenuComponent.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: ViewContainerRef },\n    { type: MenuService },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: NzNoAnimationDirective, decorators: [{ type: Host }, { type: Optional }] }\n];\nNzDropdownMenuComponent.propDecorators = {\n    templateRef: [{ type: ViewChild, args: [TemplateRef, { static: true },] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropdownMenuComponent, [{\n        type: Component,\n        args: [{\n                selector: `nz-dropdown-menu`,\n                exportAs: `nzDropdownMenu`,\n                animations: [slideMotion],\n                providers: [\n                    MenuService,\n                    /** menu is inside dropdown-menu component **/\n                    {\n                        provide: NzIsMenuInsideDropDownToken,\n                        useValue: true\n                    }\n                ],\n                template: `\n    <ng-template>\n      <div\n        class=\"ant-dropdown\"\n        [class.ant-dropdown-rtl]=\"dir === 'rtl'\"\n        [ngClass]=\"nzOverlayClassName\"\n        [ngStyle]=\"nzOverlayStyle\"\n        @slideMotion\n        (@slideMotion.done)=\"onAnimationEvent($event)\"\n        [@.disabled]=\"noAnimation?.nzNoAnimation\"\n        [nzNoAnimation]=\"noAnimation?.nzNoAnimation\"\n        (mouseenter)=\"setMouseState(true)\"\n        (mouseleave)=\"setMouseState(false)\"\n      >\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  `,\n                preserveWhitespaces: false,\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc4.MenuService }, { type: ɵngcc5.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: ɵngcc6.NzNoAnimationDirective, decorators: [{\n                type: Host\n            }, {\n                type: Optional\n            }] }]; }, { templateRef: [{\n            type: ViewChild,\n            args: [TemplateRef, { static: true }]\n        }] }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzDropDownModule {\n}\nNzDropDownModule.ɵfac = function NzDropDownModule_Factory(t) { return new (t || NzDropDownModule)(); };\nNzDropDownModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NzDropDownModule });\nNzDropDownModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[\n            BidiModule,\n            CommonModule,\n            OverlayModule,\n            FormsModule,\n            NzButtonModule,\n            NzMenuModule,\n            NzIconModule,\n            NzNoAnimationModule,\n            PlatformModule,\n            NzOverlayModule,\n            NzContextMenuServiceModule,\n            NzOutletModule\n        ], NzMenuModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzDropDownModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    BidiModule,\n                    CommonModule,\n                    OverlayModule,\n                    FormsModule,\n                    NzButtonModule,\n                    NzMenuModule,\n                    NzIconModule,\n                    NzNoAnimationModule,\n                    PlatformModule,\n                    NzOverlayModule,\n                    NzContextMenuServiceModule,\n                    NzOutletModule\n                ],\n                entryComponents: [NzDropdownMenuComponent],\n                declarations: [NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective],\n                exports: [NzMenuModule, NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzDropDownModule, { declarations: function () { return [NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective]; }, imports: function () { return [BidiModule,\n        CommonModule,\n        OverlayModule,\n        FormsModule,\n        NzButtonModule,\n        NzMenuModule,\n        NzIconModule,\n        NzNoAnimationModule,\n        PlatformModule,\n        NzOverlayModule, NzContextMenuServiceModule, NzOutletModule]; }, exports: function () { return [NzMenuModule, NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective]; } }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst listOfPositions$1 = [\n    new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'top' }),\n    new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),\n    new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),\n    new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'top' })\n];\nclass NzContextMenuService {\n    constructor(overlay) {\n        this.overlay = overlay;\n        this.overlayRef = null;\n        this.closeSubscription = Subscription.EMPTY;\n    }\n    create($event, nzDropdownMenuComponent) {\n        this.close(true);\n        const { x, y } = $event;\n        if ($event instanceof MouseEvent) {\n            $event.preventDefault();\n        }\n        const positionStrategy = this.overlay\n            .position()\n            .flexibleConnectedTo({ x, y })\n            .withPositions(listOfPositions$1)\n            .withTransformOriginOn('.ant-dropdown');\n        this.overlayRef = this.overlay.create({\n            positionStrategy,\n            disposeOnNavigation: true,\n            scrollStrategy: this.overlay.scrollStrategies.close()\n        });\n        this.closeSubscription = merge(nzDropdownMenuComponent.descendantMenuItemClick$, fromEvent(document, 'click').pipe(filter(event => !!this.overlayRef && !this.overlayRef.overlayElement.contains(event.target)), \n        /** handle firefox contextmenu event **/\n        filter(event => event.button !== 2), take(1))).subscribe(() => {\n            this.close();\n        });\n        this.overlayRef.attach(new TemplatePortal(nzDropdownMenuComponent.templateRef, nzDropdownMenuComponent.viewContainerRef));\n    }\n    close(clear = false) {\n        if (this.overlayRef) {\n            this.overlayRef.detach();\n            if (clear) {\n                this.overlayRef.dispose();\n            }\n            this.overlayRef = null;\n            this.closeSubscription.unsubscribe();\n        }\n    }\n}\nNzContextMenuService.ɵfac = function NzContextMenuService_Factory(t) { return new (t || NzContextMenuService)(ɵngcc0.ɵɵinject(ɵngcc1.Overlay)); };\nNzContextMenuService.ɵprov = ɵɵdefineInjectable({ factory: function NzContextMenuService_Factory() { return new NzContextMenuService(ɵɵinject(Overlay)); }, token: NzContextMenuService, providedIn: NzContextMenuServiceModule });\nNzContextMenuService.ctorParameters = () => [\n    { type: Overlay }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzContextMenuService, [{\n        type: Injectable,\n        args: [{\n                providedIn: NzContextMenuServiceModule\n            }]\n    }], function () { return [{ type: ɵngcc1.Overlay }]; }, null); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NzContextMenuService, NzContextMenuServiceModule, NzDropDownADirective, NzDropDownDirective, NzDropDownModule, NzDropdownButtonDirective, NzDropdownMenuComponent };\n\n//# sourceMappingURL=ng-zorro-antd-dropdown.js.map"]},"metadata":{},"sourceType":"module"}