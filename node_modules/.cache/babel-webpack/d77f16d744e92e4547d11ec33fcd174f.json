{"ast":null,"code":"import _toConsumableArray from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createClass from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { OverlayConfig, ConnectionPositionPair, Overlay, OverlayModule } from '@angular/cdk/overlay';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Directive, Injectable, forwardRef, EventEmitter, ElementRef, Component, ChangeDetectionStrategy, Optional, Inject, ChangeDetectorRef, ViewContainerRef, Input, Output, ViewChild, TemplateRef, ViewChildren, ContentChild, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { Subject, merge, fromEvent } from 'rxjs';\nimport { __decorate, __metadata } from 'tslib';\nimport { ENTER, LEFT_ARROW, RIGHT_ARROW, TAB, ESCAPE, UP_ARROW, DOWN_ARROW } from '@angular/cdk/keycodes';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { DEFAULT_MENTION_BOTTOM_POSITIONS, DEFAULT_MENTION_TOP_POSITIONS } from 'ng-zorro-antd/core/overlay';\nimport { getMentions as _getMentions, getCaretCoordinates, InputBoolean } from 'ng-zorro-antd/core/util';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/overlay';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from 'ng-zorro-antd/icon';\nvar _c0 = [\"items\"];\n\nfunction NzMentionComponent_ng_template_1_li_1_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nvar _c1 = function _c1(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzMentionComponent_ng_template_1_li_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_1_ng_container_2_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var suggestion_r4 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.suggestionTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c1, suggestion_r4));\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_li_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    var suggestion_r4 = ɵngcc0.ɵɵnextContext().$implicit;\n    var ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r9.nzValueWith(suggestion_r4));\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r15 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"li\", 4, 5);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function NzMentionComponent_ng_template_1_li_1_Template_li_mousedown_0_listener($event) {\n      return $event.preventDefault();\n    })(\"click\", function NzMentionComponent_ng_template_1_li_1_Template_li_click_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r15);\n      var suggestion_r4 = restoredCtx.$implicit;\n      var ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r14.selectSuggestion(suggestion_r4);\n    });\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_1_ng_container_2_Template, 2, 4, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(3, NzMentionComponent_ng_template_1_li_1_ng_template_3_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var i_r5 = ctx.index;\n\n    var _r8 = ɵngcc0.ɵɵreference(4);\n\n    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"focus\", i_r5 === ctx_r2.activeIndex);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.suggestionTemplate)(\"ngIfElse\", _r8);\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_li_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵelement(1, \"i\", 11);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_li_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r17 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r17.nzNotFoundContent);\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\", 9);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_2_span_1_Template, 2, 0, \"span\", 10);\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_2_span_2_Template, 2, 1, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.nzLoading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.nzLoading);\n  }\n}\n\nfunction NzMentionComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 1);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_1_Template, 5, 4, \"li\", 2);\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_2_Template, 3, 2, \"li\", 3);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredSuggestions);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.filteredSuggestions.length === 0);\n  }\n}\n\nvar _c2 = [\"*\"];\n\nvar NzMentionSuggestionDirective = function NzMentionSuggestionDirective() {\n  _classCallCheck(this, NzMentionSuggestionDirective);\n};\n\nNzMentionSuggestionDirective.ɵfac = function NzMentionSuggestionDirective_Factory(t) {\n  return new (t || NzMentionSuggestionDirective)();\n};\n\nNzMentionSuggestionDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzMentionSuggestionDirective,\n  selectors: [[\"\", \"nzMentionSuggestion\", \"\"]],\n  exportAs: [\"nzMentionSuggestion\"]\n});\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NZ_MENTION_CONFIG = {\n  split: ' '\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NzMentionService = /*#__PURE__*/function () {\n  function NzMentionService() {\n    _classCallCheck(this, NzMentionService);\n\n    this.triggerChange$ = new Subject();\n  }\n\n  _createClass(NzMentionService, [{\n    key: \"triggerChanged\",\n    value: function triggerChanged() {\n      return this.triggerChange$.asObservable();\n    }\n  }, {\n    key: \"registerTrigger\",\n    value: function registerTrigger(trigger) {\n      if (this.trigger !== trigger) {\n        this.trigger = trigger;\n        this.triggerChange$.next(trigger);\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.triggerChange$.complete();\n    }\n  }]);\n\n  return NzMentionService;\n}();\n\nNzMentionService.ɵfac = function NzMentionService_Factory(t) {\n  return new (t || NzMentionService)();\n};\n\nNzMentionService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: NzMentionService,\n  factory: NzMentionService.ɵfac\n});\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NZ_MENTION_TRIGGER_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(function () {\n    return NzMentionTriggerDirective;\n  }),\n  multi: true\n};\n\nvar NzMentionTriggerDirective = /*#__PURE__*/function () {\n  function NzMentionTriggerDirective(el, nzMentionService) {\n    _classCallCheck(this, NzMentionTriggerDirective);\n\n    this.el = el;\n    this.nzMentionService = nzMentionService;\n\n    this.onChange = function () {};\n\n    this.onTouched = function () {};\n\n    this.onFocusin = new EventEmitter();\n    this.onBlur = new EventEmitter();\n    this.onInput = new EventEmitter();\n    this.onKeydown = new EventEmitter();\n    this.onClick = new EventEmitter();\n  }\n\n  _createClass(NzMentionTriggerDirective, [{\n    key: \"completeEvents\",\n    value: function completeEvents() {\n      this.onFocusin.complete();\n      this.onBlur.complete();\n      this.onInput.complete();\n      this.onKeydown.complete();\n      this.onClick.complete();\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(caretPos) {\n      this.el.nativeElement.focus();\n      this.el.nativeElement.setSelectionRange(caretPos, caretPos);\n    }\n  }, {\n    key: \"insertMention\",\n    value: function insertMention(mention) {\n      var value = this.el.nativeElement.value;\n      var insertValue = \"\".concat(mention.mention).concat(NZ_MENTION_CONFIG.split);\n      var newValue = [value.slice(0, mention.startPos + 1), insertValue, value.slice(mention.endPos, value.length)].join('');\n      this.el.nativeElement.value = newValue;\n      this.focus(mention.startPos + insertValue.length + 1);\n      this.onChange(newValue);\n      this.value = newValue;\n    }\n  }, {\n    key: \"writeValue\",\n    value: function writeValue(value) {\n      this.value = value;\n\n      if (typeof value === 'string') {\n        this.el.nativeElement.value = value;\n      } else {\n        this.el.nativeElement.value = '';\n      }\n    }\n  }, {\n    key: \"registerOnChange\",\n    value: function registerOnChange(fn) {\n      this.onChange = fn;\n    }\n  }, {\n    key: \"registerOnTouched\",\n    value: function registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.nzMentionService.registerTrigger(this);\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.completeEvents();\n    }\n  }]);\n\n  return NzMentionTriggerDirective;\n}();\n\nNzMentionTriggerDirective.ɵfac = function NzMentionTriggerDirective_Factory(t) {\n  return new (t || NzMentionTriggerDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(NzMentionService));\n};\n\nNzMentionTriggerDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzMentionTriggerDirective,\n  selectors: [[\"input\", \"nzMentionTrigger\", \"\"], [\"textarea\", \"nzMentionTrigger\", \"\"]],\n  hostAttrs: [\"autocomplete\", \"off\"],\n  hostBindings: function NzMentionTriggerDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"focusin\", function NzMentionTriggerDirective_focusin_HostBindingHandler() {\n        return ctx.onFocusin.emit();\n      })(\"blur\", function NzMentionTriggerDirective_blur_HostBindingHandler() {\n        return ctx.onBlur.emit();\n      })(\"input\", function NzMentionTriggerDirective_input_HostBindingHandler($event) {\n        return ctx.onInput.emit($event);\n      })(\"keydown\", function NzMentionTriggerDirective_keydown_HostBindingHandler($event) {\n        return ctx.onKeydown.emit($event);\n      })(\"click\", function NzMentionTriggerDirective_click_HostBindingHandler($event) {\n        return ctx.onClick.emit($event);\n      });\n    }\n  },\n  exportAs: [\"nzMentionTrigger\"],\n  features: [ɵngcc0.ɵɵProvidersFeature([NZ_MENTION_TRIGGER_ACCESSOR])]\n});\n\nNzMentionTriggerDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: NzMentionService\n  }];\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzMentionComponent = /*#__PURE__*/function () {\n  function NzMentionComponent(ngDocument, cdr, overlay, viewContainerRef, nzMentionService) {\n    _classCallCheck(this, NzMentionComponent);\n\n    this.ngDocument = ngDocument;\n    this.cdr = cdr;\n    this.overlay = overlay;\n    this.viewContainerRef = viewContainerRef;\n    this.nzMentionService = nzMentionService;\n\n    this.nzValueWith = function (value) {\n      return value;\n    };\n\n    this.nzPrefix = '@';\n    this.nzLoading = false;\n    this.nzNotFoundContent = '无匹配结果，轻敲空格完成输入';\n    this.nzPlacement = 'bottom';\n    this.nzSuggestions = [];\n    this.nzOnSelect = new EventEmitter();\n    this.nzOnSearchChange = new EventEmitter();\n    this.isOpen = false;\n    this.filteredSuggestions = [];\n    this.suggestionTemplate = null;\n    this.activeIndex = -1;\n    this.previousValue = null;\n    this.cursorMention = null;\n    this.overlayRef = null;\n  }\n\n  _createClass(NzMentionComponent, [{\n    key: \"suggestionChild\",\n    set: function set(value) {\n      if (value) {\n        this.suggestionTemplate = value;\n      }\n    }\n  }, {\n    key: \"triggerNativeElement\",\n    get: function get() {\n      return this.trigger.el.nativeElement;\n    }\n  }, {\n    key: \"focusItemElement\",\n    get: function get() {\n      var _a;\n\n      var itemArr = (_a = this.items) === null || _a === void 0 ? void 0 : _a.toArray();\n\n      if (itemArr && itemArr[this.activeIndex]) {\n        return itemArr[this.activeIndex].nativeElement;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.nzMentionService.triggerChanged().subscribe(function (trigger) {\n        _this.trigger = trigger;\n\n        _this.bindTriggerEvents();\n\n        _this.closeDropdown();\n\n        _this.overlayRef = null;\n      });\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (changes.hasOwnProperty('nzSuggestions')) {\n        if (this.isOpen) {\n          this.previousValue = null;\n          this.activeIndex = -1;\n          this.resetDropdown(false);\n        }\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.closeDropdown();\n    }\n  }, {\n    key: \"closeDropdown\",\n    value: function closeDropdown() {\n      if (this.overlayRef && this.overlayRef.hasAttached()) {\n        this.overlayRef.detach();\n        this.overlayOutsideClickSubscription.unsubscribe();\n        this.isOpen = false;\n        this.cdr.markForCheck();\n      }\n    }\n  }, {\n    key: \"openDropdown\",\n    value: function openDropdown() {\n      this.attachOverlay();\n      this.isOpen = true;\n      this.cdr.markForCheck();\n    }\n  }, {\n    key: \"getMentions\",\n    value: function getMentions() {\n      return this.trigger ? _getMentions(this.trigger.value, this.nzPrefix) : [];\n    }\n  }, {\n    key: \"selectSuggestion\",\n    value: function selectSuggestion(suggestion) {\n      var value = this.nzValueWith(suggestion);\n      this.trigger.insertMention({\n        mention: value,\n        startPos: this.cursorMentionStart,\n        endPos: this.cursorMentionEnd\n      });\n      this.nzOnSelect.emit(suggestion);\n      this.closeDropdown();\n      this.activeIndex = -1;\n    }\n  }, {\n    key: \"handleInput\",\n    value: function handleInput(event) {\n      var target = event.target;\n      this.trigger.onChange(target.value);\n      this.trigger.value = target.value;\n      this.resetDropdown();\n    }\n  }, {\n    key: \"handleKeydown\",\n    value: function handleKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (this.isOpen && keyCode === ENTER && this.activeIndex !== -1 && this.filteredSuggestions.length) {\n        this.selectSuggestion(this.filteredSuggestions[this.activeIndex]);\n        event.preventDefault();\n      } else if (keyCode === LEFT_ARROW || keyCode === RIGHT_ARROW) {\n        this.resetDropdown();\n        event.stopPropagation();\n      } else {\n        if (this.isOpen && (keyCode === TAB || keyCode === ESCAPE)) {\n          this.closeDropdown();\n          return;\n        }\n\n        if (this.isOpen && keyCode === UP_ARROW) {\n          this.setPreviousItemActive();\n          event.preventDefault();\n          event.stopPropagation();\n        }\n\n        if (this.isOpen && keyCode === DOWN_ARROW) {\n          this.setNextItemActive();\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      this.resetDropdown();\n    }\n  }, {\n    key: \"bindTriggerEvents\",\n    value: function bindTriggerEvents() {\n      var _this2 = this;\n\n      this.trigger.onInput.subscribe(function (e) {\n        return _this2.handleInput(e);\n      });\n      this.trigger.onKeydown.subscribe(function (e) {\n        return _this2.handleKeydown(e);\n      });\n      this.trigger.onClick.subscribe(function () {\n        return _this2.handleClick();\n      });\n    }\n  }, {\n    key: \"suggestionsFilter\",\n    value: function suggestionsFilter(value, emit) {\n      var _this3 = this;\n\n      var suggestions = value.substring(1);\n      /**\n       * Should always emit (nzOnSearchChange) when value empty\n       *\n       * @[something]... @[empty]... @[empty]\n       *     ^             ^           ^\n       * preValue        preValue  (should emit)\n       */\n\n      if (this.previousValue === value && value !== this.cursorMention[0]) {\n        return;\n      }\n\n      this.previousValue = value;\n\n      if (emit) {\n        this.nzOnSearchChange.emit({\n          value: this.cursorMention.substring(1),\n          prefix: this.cursorMention[0]\n        });\n      }\n\n      var searchValue = suggestions.toLowerCase();\n      this.filteredSuggestions = this.nzSuggestions.filter(function (suggestion) {\n        return _this3.nzValueWith(suggestion).toLowerCase().includes(searchValue);\n      });\n    }\n  }, {\n    key: \"resetDropdown\",\n    value: function resetDropdown() {\n      var emit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.resetCursorMention();\n\n      if (typeof this.cursorMention !== 'string' || !this.canOpen()) {\n        this.closeDropdown();\n        return;\n      }\n\n      this.suggestionsFilter(this.cursorMention, emit);\n      var activeIndex = this.filteredSuggestions.indexOf(this.cursorMention.substring(1));\n      this.activeIndex = activeIndex >= 0 ? activeIndex : 0;\n      this.openDropdown();\n    }\n  }, {\n    key: \"setNextItemActive\",\n    value: function setNextItemActive() {\n      this.activeIndex = this.activeIndex + 1 <= this.filteredSuggestions.length - 1 ? this.activeIndex + 1 : 0;\n      this.cdr.markForCheck();\n      this.scrollToFocusItem();\n    }\n  }, {\n    key: \"setPreviousItemActive\",\n    value: function setPreviousItemActive() {\n      this.activeIndex = this.activeIndex - 1 < 0 ? this.filteredSuggestions.length - 1 : this.activeIndex - 1;\n      this.cdr.markForCheck();\n      this.scrollToFocusItem();\n    }\n  }, {\n    key: \"scrollToFocusItem\",\n    value: function scrollToFocusItem() {\n      if (this.focusItemElement) {\n        this.focusItemElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'center',\n          inline: 'nearest'\n        });\n      }\n    }\n  }, {\n    key: \"canOpen\",\n    value: function canOpen() {\n      var element = this.triggerNativeElement;\n      return !element.readOnly && !element.disabled;\n    }\n  }, {\n    key: \"resetCursorMention\",\n    value: function resetCursorMention() {\n      var value = this.triggerNativeElement.value.replace(/[\\r\\n]/g, NZ_MENTION_CONFIG.split) || '';\n      var selectionStart = this.triggerNativeElement.selectionStart;\n      var prefix = typeof this.nzPrefix === 'string' ? [this.nzPrefix] : this.nzPrefix;\n      var i = prefix.length;\n\n      while (i >= 0) {\n        var startPos = value.lastIndexOf(prefix[i], selectionStart);\n        var endPos = value.indexOf(NZ_MENTION_CONFIG.split, selectionStart) > -1 ? value.indexOf(NZ_MENTION_CONFIG.split, selectionStart) : value.length;\n        var mention = value.substring(startPos, endPos);\n\n        if (startPos > 0 && value[startPos - 1] !== NZ_MENTION_CONFIG.split || startPos < 0 || mention.includes(prefix[i], 1) || mention.includes(NZ_MENTION_CONFIG.split)) {\n          this.cursorMention = null;\n          this.cursorMentionStart = -1;\n          this.cursorMentionEnd = -1;\n        } else {\n          this.cursorMention = mention;\n          this.cursorMentionStart = startPos;\n          this.cursorMentionEnd = endPos;\n          return;\n        }\n\n        i--;\n      }\n    }\n  }, {\n    key: \"updatePositions\",\n    value: function updatePositions() {\n      var coordinates = getCaretCoordinates(this.triggerNativeElement, this.cursorMentionStart);\n      var top = coordinates.top - this.triggerNativeElement.getBoundingClientRect().height - this.triggerNativeElement.scrollTop + (this.nzPlacement === 'bottom' ? coordinates.height - 6 : -6);\n      var left = coordinates.left - this.triggerNativeElement.scrollLeft;\n      this.positionStrategy.withDefaultOffsetX(left).withDefaultOffsetY(top);\n\n      if (this.nzPlacement === 'bottom') {\n        this.positionStrategy.withPositions(_toConsumableArray(DEFAULT_MENTION_BOTTOM_POSITIONS));\n      }\n\n      if (this.nzPlacement === 'top') {\n        this.positionStrategy.withPositions(_toConsumableArray(DEFAULT_MENTION_TOP_POSITIONS));\n      }\n\n      this.positionStrategy.apply();\n    }\n  }, {\n    key: \"subscribeOverlayOutsideClick\",\n    value: function subscribeOverlayOutsideClick() {\n      var _this4 = this;\n\n      return merge(this.overlayRef.outsidePointerEvents(), fromEvent(this.ngDocument, 'touchend')).subscribe(function (event) {\n        var _a;\n\n        var clickTarget = event.target;\n\n        if (_this4.isOpen && clickTarget !== _this4.trigger.el.nativeElement && !((_a = _this4.overlayRef) === null || _a === void 0 ? void 0 : _a.overlayElement.contains(clickTarget))) {\n          _this4.closeDropdown();\n        }\n      });\n    }\n  }, {\n    key: \"attachOverlay\",\n    value: function attachOverlay() {\n      if (!this.overlayRef) {\n        this.portal = new TemplatePortal(this.suggestionsTemp, this.viewContainerRef);\n        this.overlayRef = this.overlay.create(this.getOverlayConfig());\n      }\n\n      if (this.overlayRef && !this.overlayRef.hasAttached()) {\n        this.overlayRef.attach(this.portal);\n        this.overlayOutsideClickSubscription = this.subscribeOverlayOutsideClick();\n      }\n\n      this.updatePositions();\n    }\n  }, {\n    key: \"getOverlayConfig\",\n    value: function getOverlayConfig() {\n      return new OverlayConfig({\n        positionStrategy: this.getOverlayPosition(),\n        scrollStrategy: this.overlay.scrollStrategies.reposition(),\n        disposeOnNavigation: true\n      });\n    }\n  }, {\n    key: \"getOverlayPosition\",\n    value: function getOverlayPosition() {\n      var positions = [new ConnectionPositionPair({\n        originX: 'start',\n        originY: 'bottom'\n      }, {\n        overlayX: 'start',\n        overlayY: 'top'\n      }), new ConnectionPositionPair({\n        originX: 'start',\n        originY: 'top'\n      }, {\n        overlayX: 'start',\n        overlayY: 'bottom'\n      })];\n      this.positionStrategy = this.overlay.position().flexibleConnectedTo(this.trigger.el).withPositions(positions).withFlexibleDimensions(false).withPush(false);\n      return this.positionStrategy;\n    }\n  }]);\n\n  return NzMentionComponent;\n}();\n\nNzMentionComponent.ɵfac = function NzMentionComponent_Factory(t) {\n  return new (t || NzMentionComponent)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(NzMentionService));\n};\n\nNzMentionComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: NzMentionComponent,\n  selectors: [[\"nz-mention\"]],\n  contentQueries: function NzMentionComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, NzMentionSuggestionDirective, 5, TemplateRef);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.suggestionChild = _t.first);\n    }\n  },\n  viewQuery: function NzMentionComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(TemplateRef, 5);\n      ɵngcc0.ɵɵviewQuery(_c0, 5, ElementRef);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.suggestionsTemp = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.items = _t);\n    }\n  },\n  inputs: {\n    nzValueWith: \"nzValueWith\",\n    nzPrefix: \"nzPrefix\",\n    nzLoading: \"nzLoading\",\n    nzNotFoundContent: \"nzNotFoundContent\",\n    nzPlacement: \"nzPlacement\",\n    nzSuggestions: \"nzSuggestions\"\n  },\n  outputs: {\n    nzOnSelect: \"nzOnSelect\",\n    nzOnSearchChange: \"nzOnSearchChange\"\n  },\n  exportAs: [\"nzMention\"],\n  features: [ɵngcc0.ɵɵProvidersFeature([NzMentionService]), ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c2,\n  decls: 3,\n  vars: 0,\n  consts: [[\"suggestions\", \"\"], [1, \"ant-mention-dropdown\"], [\"class\", \"ant-mention-dropdown-item\", 3, \"focus\", \"mousedown\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ant-mention-dropdown-notfound ant-mention-dropdown-item\", 4, \"ngIf\"], [1, \"ant-mention-dropdown-item\", 3, \"mousedown\", \"click\"], [\"items\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"defaultSuggestion\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"ant-mention-dropdown-notfound\", \"ant-mention-dropdown-item\"], [4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"loading\"]],\n  template: function NzMentionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵprojection(0);\n      ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_Template, 3, 2, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n  },\n  directives: [ɵngcc2.NgForOf, ɵngcc2.NgIf, ɵngcc2.NgTemplateOutlet, ɵngcc3.NzIconDirective],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzMentionComponent.ctorParameters = function () {\n  return [{\n    type: undefined,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: Overlay\n  }, {\n    type: ViewContainerRef\n  }, {\n    type: NzMentionService\n  }];\n};\n\nNzMentionComponent.propDecorators = {\n  nzValueWith: [{\n    type: Input\n  }],\n  nzPrefix: [{\n    type: Input\n  }],\n  nzLoading: [{\n    type: Input\n  }],\n  nzNotFoundContent: [{\n    type: Input\n  }],\n  nzPlacement: [{\n    type: Input\n  }],\n  nzSuggestions: [{\n    type: Input\n  }],\n  nzOnSelect: [{\n    type: Output\n  }],\n  nzOnSearchChange: [{\n    type: Output\n  }],\n  suggestionsTemp: [{\n    type: ViewChild,\n    args: [TemplateRef, {\n      static: false\n    }]\n  }],\n  items: [{\n    type: ViewChildren,\n    args: ['items', {\n      read: ElementRef\n    }]\n  }],\n  suggestionChild: [{\n    type: ContentChild,\n    args: [NzMentionSuggestionDirective, {\n      static: false,\n      read: TemplateRef\n    }]\n  }]\n};\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzMentionComponent.prototype, \"nzLoading\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionSuggestionDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nzMentionSuggestion]',\n      exportAs: 'nzMentionSuggestion'\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionService, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionTriggerDirective, [{\n    type: Directive,\n    args: [{\n      selector: 'input[nzMentionTrigger], textarea[nzMentionTrigger]',\n      exportAs: 'nzMentionTrigger',\n      providers: [NZ_MENTION_TRIGGER_ACCESSOR],\n      host: {\n        autocomplete: 'off',\n        '(focusin)': 'onFocusin.emit()',\n        '(blur)': 'onBlur.emit()',\n        '(input)': 'onInput.emit($event)',\n        '(keydown)': 'onKeydown.emit($event)',\n        '(click)': 'onClick.emit($event)'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: NzMentionService\n    }];\n  }, null);\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-mention',\n      exportAs: 'nzMention',\n      template: \"\\n    <ng-content></ng-content>\\n    <ng-template #suggestions>\\n      <ul class=\\\"ant-mention-dropdown\\\">\\n        <li\\n          #items\\n          class=\\\"ant-mention-dropdown-item\\\"\\n          *ngFor=\\\"let suggestion of filteredSuggestions; let i = index\\\"\\n          [class.focus]=\\\"i === activeIndex\\\"\\n          (mousedown)=\\\"$event.preventDefault()\\\"\\n          (click)=\\\"selectSuggestion(suggestion)\\\"\\n        >\\n          <ng-container *ngIf=\\\"suggestionTemplate; else defaultSuggestion\\\">\\n            <ng-container *ngTemplateOutlet=\\\"suggestionTemplate; context: { $implicit: suggestion }\\\"></ng-container>\\n          </ng-container>\\n          <ng-template #defaultSuggestion>{{ nzValueWith(suggestion) }}</ng-template>\\n        </li>\\n        <li class=\\\"ant-mention-dropdown-notfound ant-mention-dropdown-item\\\" *ngIf=\\\"filteredSuggestions.length === 0\\\">\\n          <span *ngIf=\\\"nzLoading\\\"><i nz-icon nzType=\\\"loading\\\"></i></span>\\n          <span *ngIf=\\\"!nzLoading\\\">{{ nzNotFoundContent }}</span>\\n        </li>\\n      </ul>\\n    </ng-template>\\n  \",\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [NzMentionService]\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc1.Overlay\n    }, {\n      type: ɵngcc0.ViewContainerRef\n    }, {\n      type: NzMentionService\n    }];\n  }, {\n    nzValueWith: [{\n      type: Input\n    }],\n    nzPrefix: [{\n      type: Input\n    }],\n    nzLoading: [{\n      type: Input\n    }],\n    nzNotFoundContent: [{\n      type: Input\n    }],\n    nzPlacement: [{\n      type: Input\n    }],\n    nzSuggestions: [{\n      type: Input\n    }],\n    nzOnSelect: [{\n      type: Output\n    }],\n    nzOnSearchChange: [{\n      type: Output\n    }],\n    suggestionChild: [{\n      type: ContentChild,\n      args: [NzMentionSuggestionDirective, {\n        static: false,\n        read: TemplateRef\n      }]\n    }],\n    suggestionsTemp: [{\n      type: ViewChild,\n      args: [TemplateRef, {\n        static: false\n      }]\n    }],\n    items: [{\n      type: ViewChildren,\n      args: ['items', {\n        read: ElementRef\n      }]\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar COMPONENTS = [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective];\n\nvar NzMentionModule = function NzMentionModule() {\n  _classCallCheck(this, NzMentionModule);\n};\n\nNzMentionModule.ɵfac = function NzMentionModule_Factory(t) {\n  return new (t || NzMentionModule)();\n};\n\nNzMentionModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: NzMentionModule\n});\nNzMentionModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionModule, [{\n    type: NgModule,\n    args: [{\n      imports: [BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule],\n      declarations: [].concat(COMPONENTS),\n      exports: [].concat(COMPONENTS)\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzMentionModule, {\n    declarations: function declarations() {\n      return [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule];\n    },\n    exports: function exports() {\n      return [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NZ_MENTION_TRIGGER_ACCESSOR, NzMentionComponent, NzMentionModule, NzMentionService, NzMentionSuggestionDirective, NzMentionTriggerDirective }; //# sourceMappingURL=ng-zorro-antd-mention.js.map","map":{"version":3,"sources":["/Users/mac/WebstormProjects/github-page/node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-mention.js"],"names":["BidiModule","OverlayConfig","ConnectionPositionPair","Overlay","OverlayModule","DOCUMENT","CommonModule","Directive","Injectable","forwardRef","EventEmitter","ElementRef","Component","ChangeDetectionStrategy","Optional","Inject","ChangeDetectorRef","ViewContainerRef","Input","Output","ViewChild","TemplateRef","ViewChildren","ContentChild","NgModule","NG_VALUE_ACCESSOR","FormsModule","NzIconModule","Subject","merge","fromEvent","__decorate","__metadata","ENTER","LEFT_ARROW","RIGHT_ARROW","TAB","ESCAPE","UP_ARROW","DOWN_ARROW","TemplatePortal","DEFAULT_MENTION_BOTTOM_POSITIONS","DEFAULT_MENTION_TOP_POSITIONS","getMentions","getCaretCoordinates","InputBoolean","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","_c0","NzMentionComponent_ng_template_1_li_1_ng_container_2_ng_container_1_Template","rf","ctx","ɵɵelementContainer","_c1","a0","$implicit","NzMentionComponent_ng_template_1_li_1_ng_container_2_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","suggestion_r4","ɵɵnextContext","ctx_r7","ɵɵadvance","ɵɵproperty","suggestionTemplate","ɵɵpureFunction1","NzMentionComponent_ng_template_1_li_1_ng_template_3_Template","ɵɵtext","ctx_r9","ɵɵtextInterpolate","nzValueWith","NzMentionComponent_ng_template_1_li_1_Template","_r15","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","NzMentionComponent_ng_template_1_li_1_Template_li_mousedown_0_listener","$event","preventDefault","NzMentionComponent_ng_template_1_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","ctx_r14","selectSuggestion","ɵɵtemplateRefExtractor","ɵɵelementEnd","i_r5","index","_r8","ɵɵreference","ctx_r2","ɵɵclassProp","activeIndex","NzMentionComponent_ng_template_1_li_2_span_1_Template","ɵɵelement","NzMentionComponent_ng_template_1_li_2_span_2_Template","ctx_r17","nzNotFoundContent","NzMentionComponent_ng_template_1_li_2_Template","ctx_r3","nzLoading","NzMentionComponent_ng_template_1_Template","ctx_r1","filteredSuggestions","length","_c2","NzMentionSuggestionDirective","ɵfac","NzMentionSuggestionDirective_Factory","t","ɵdir","ɵɵdefineDirective","type","selectors","exportAs","NZ_MENTION_CONFIG","split","NzMentionService","triggerChange$","asObservable","trigger","next","complete","NzMentionService_Factory","ɵprov","ɵɵdefineInjectable","token","factory","NZ_MENTION_TRIGGER_ACCESSOR","provide","useExisting","NzMentionTriggerDirective","multi","el","nzMentionService","onChange","onTouched","onFocusin","onBlur","onInput","onKeydown","onClick","caretPos","nativeElement","focus","setSelectionRange","mention","value","insertValue","newValue","slice","startPos","endPos","join","fn","registerTrigger","completeEvents","NzMentionTriggerDirective_Factory","ɵɵdirectiveInject","hostAttrs","hostBindings","NzMentionTriggerDirective_HostBindings","NzMentionTriggerDirective_focusin_HostBindingHandler","emit","NzMentionTriggerDirective_blur_HostBindingHandler","NzMentionTriggerDirective_input_HostBindingHandler","NzMentionTriggerDirective_keydown_HostBindingHandler","NzMentionTriggerDirective_click_HostBindingHandler","features","ɵɵProvidersFeature","ctorParameters","NzMentionComponent","ngDocument","cdr","overlay","viewContainerRef","nzPrefix","nzPlacement","nzSuggestions","nzOnSelect","nzOnSearchChange","isOpen","previousValue","cursorMention","overlayRef","_a","itemArr","items","toArray","triggerChanged","subscribe","bindTriggerEvents","closeDropdown","changes","hasOwnProperty","resetDropdown","hasAttached","detach","overlayOutsideClickSubscription","unsubscribe","markForCheck","attachOverlay","suggestion","insertMention","cursorMentionStart","cursorMentionEnd","event","target","keyCode","stopPropagation","setPreviousItemActive","setNextItemActive","e","handleInput","handleKeydown","handleClick","suggestions","substring","prefix","searchValue","toLowerCase","filter","includes","resetCursorMention","canOpen","suggestionsFilter","indexOf","openDropdown","scrollToFocusItem","focusItemElement","scrollIntoView","behavior","block","inline","element","triggerNativeElement","readOnly","disabled","replace","selectionStart","i","lastIndexOf","coordinates","top","getBoundingClientRect","height","scrollTop","left","scrollLeft","positionStrategy","withDefaultOffsetX","withDefaultOffsetY","withPositions","apply","outsidePointerEvents","clickTarget","overlayElement","contains","portal","suggestionsTemp","create","getOverlayConfig","attach","subscribeOverlayOutsideClick","updatePositions","getOverlayPosition","scrollStrategy","scrollStrategies","reposition","disposeOnNavigation","positions","originX","originY","overlayX","overlayY","position","flexibleConnectedTo","withFlexibleDimensions","withPush","NzMentionComponent_Factory","ɵcmp","ɵɵdefineComponent","contentQueries","NzMentionComponent_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","suggestionChild","first","viewQuery","NzMentionComponent_Query","ɵɵviewQuery","inputs","outputs","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","NzMentionComponent_Template","ɵɵprojectionDef","ɵɵprojection","directives","NgForOf","NgIf","NgTemplateOutlet","NzIconDirective","encapsulation","changeDetection","undefined","decorators","args","propDecorators","static","read","Object","prototype","ngDevMode","ɵsetClassMetadata","selector","providers","host","autocomplete","preserveWhitespaces","OnPush","COMPONENTS","NzMentionModule","NzMentionModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"mappings":"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","sourcesContent":["import { BidiModule } from '@angular/cdk/bidi';\nimport { OverlayConfig, ConnectionPositionPair, Overlay, OverlayModule } from '@angular/cdk/overlay';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { Directive, Injectable, forwardRef, EventEmitter, ElementRef, Component, ChangeDetectionStrategy, Optional, Inject, ChangeDetectorRef, ViewContainerRef, Input, Output, ViewChild, TemplateRef, ViewChildren, ContentChild, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { Subject, merge, fromEvent } from 'rxjs';\nimport { __decorate, __metadata } from 'tslib';\nimport { ENTER, LEFT_ARROW, RIGHT_ARROW, TAB, ESCAPE, UP_ARROW, DOWN_ARROW } from '@angular/cdk/keycodes';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { DEFAULT_MENTION_BOTTOM_POSITIONS, DEFAULT_MENTION_TOP_POSITIONS } from 'ng-zorro-antd/core/overlay';\nimport { getMentions, getCaretCoordinates, InputBoolean } from 'ng-zorro-antd/core/util';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/overlay';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from 'ng-zorro-antd/icon';\n\nconst _c0 = [\"items\"];\nfunction NzMentionComponent_ng_template_1_li_1_ng_container_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n} }\nconst _c1 = function (a0) { return { $implicit: a0 }; };\nfunction NzMentionComponent_ng_template_1_li_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_1_ng_container_2_ng_container_1_Template, 1, 0, \"ng-container\", 8);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const suggestion_r4 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r7.suggestionTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c1, suggestion_r4));\n} }\nfunction NzMentionComponent_ng_template_1_li_1_ng_template_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtext(0);\n} if (rf & 2) {\n    const suggestion_r4 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r9.nzValueWith(suggestion_r4));\n} }\nfunction NzMentionComponent_ng_template_1_li_1_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"li\", 4, 5);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function NzMentionComponent_ng_template_1_li_1_Template_li_mousedown_0_listener($event) { return $event.preventDefault(); })(\"click\", function NzMentionComponent_ng_template_1_li_1_Template_li_click_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r15); const suggestion_r4 = restoredCtx.$implicit; const ctx_r14 = ɵngcc0.ɵɵnextContext(2); return ctx_r14.selectSuggestion(suggestion_r4); });\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_1_ng_container_2_Template, 2, 4, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(3, NzMentionComponent_ng_template_1_li_1_ng_template_3_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const i_r5 = ctx.index;\n    const _r8 = ɵngcc0.ɵɵreference(4);\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵclassProp(\"focus\", i_r5 === ctx_r2.activeIndex);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.suggestionTemplate)(\"ngIfElse\", _r8);\n} }\nfunction NzMentionComponent_ng_template_1_li_2_span_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵelement(1, \"i\", 11);\n    ɵngcc0.ɵɵelementEnd();\n} }\nfunction NzMentionComponent_ng_template_1_li_2_span_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r17 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r17.nzNotFoundContent);\n} }\nfunction NzMentionComponent_ng_template_1_li_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"li\", 9);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_2_span_1_Template, 2, 0, \"span\", 10);\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_2_span_2_Template, 2, 1, \"span\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r3.nzLoading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.nzLoading);\n} }\nfunction NzMentionComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 1);\n    ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_li_1_Template, 5, 4, \"li\", 2);\n    ɵngcc0.ɵɵtemplate(2, NzMentionComponent_ng_template_1_li_2_Template, 3, 2, \"li\", 3);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r1.filteredSuggestions);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.filteredSuggestions.length === 0);\n} }\nconst _c2 = [\"*\"];\nclass NzMentionSuggestionDirective {\n}\nNzMentionSuggestionDirective.ɵfac = function NzMentionSuggestionDirective_Factory(t) { return new (t || NzMentionSuggestionDirective)(); };\nNzMentionSuggestionDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzMentionSuggestionDirective, selectors: [[\"\", \"nzMentionSuggestion\", \"\"]], exportAs: [\"nzMentionSuggestion\"] });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_MENTION_CONFIG = {\n    split: ' '\n};\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzMentionService {\n    constructor() {\n        this.triggerChange$ = new Subject();\n    }\n    triggerChanged() {\n        return this.triggerChange$.asObservable();\n    }\n    registerTrigger(trigger) {\n        if (this.trigger !== trigger) {\n            this.trigger = trigger;\n            this.triggerChange$.next(trigger);\n        }\n    }\n    ngOnDestroy() {\n        this.triggerChange$.complete();\n    }\n}\nNzMentionService.ɵfac = function NzMentionService_Factory(t) { return new (t || NzMentionService)(); };\nNzMentionService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: NzMentionService, factory: NzMentionService.ɵfac });\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_MENTION_TRIGGER_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => NzMentionTriggerDirective),\n    multi: true\n};\nclass NzMentionTriggerDirective {\n    constructor(el, nzMentionService) {\n        this.el = el;\n        this.nzMentionService = nzMentionService;\n        this.onChange = () => { };\n        this.onTouched = () => { };\n        this.onFocusin = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.onInput = new EventEmitter();\n        this.onKeydown = new EventEmitter();\n        this.onClick = new EventEmitter();\n    }\n    completeEvents() {\n        this.onFocusin.complete();\n        this.onBlur.complete();\n        this.onInput.complete();\n        this.onKeydown.complete();\n        this.onClick.complete();\n    }\n    focus(caretPos) {\n        this.el.nativeElement.focus();\n        this.el.nativeElement.setSelectionRange(caretPos, caretPos);\n    }\n    insertMention(mention) {\n        const value = this.el.nativeElement.value;\n        const insertValue = `${mention.mention}${NZ_MENTION_CONFIG.split}`;\n        const newValue = [value.slice(0, mention.startPos + 1), insertValue, value.slice(mention.endPos, value.length)].join('');\n        this.el.nativeElement.value = newValue;\n        this.focus(mention.startPos + insertValue.length + 1);\n        this.onChange(newValue);\n        this.value = newValue;\n    }\n    writeValue(value) {\n        this.value = value;\n        if (typeof value === 'string') {\n            this.el.nativeElement.value = value;\n        }\n        else {\n            this.el.nativeElement.value = '';\n        }\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    ngAfterViewInit() {\n        this.nzMentionService.registerTrigger(this);\n    }\n    ngOnDestroy() {\n        this.completeEvents();\n    }\n}\nNzMentionTriggerDirective.ɵfac = function NzMentionTriggerDirective_Factory(t) { return new (t || NzMentionTriggerDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(NzMentionService)); };\nNzMentionTriggerDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzMentionTriggerDirective, selectors: [[\"input\", \"nzMentionTrigger\", \"\"], [\"textarea\", \"nzMentionTrigger\", \"\"]], hostAttrs: [\"autocomplete\", \"off\"], hostBindings: function NzMentionTriggerDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"focusin\", function NzMentionTriggerDirective_focusin_HostBindingHandler() { return ctx.onFocusin.emit(); })(\"blur\", function NzMentionTriggerDirective_blur_HostBindingHandler() { return ctx.onBlur.emit(); })(\"input\", function NzMentionTriggerDirective_input_HostBindingHandler($event) { return ctx.onInput.emit($event); })(\"keydown\", function NzMentionTriggerDirective_keydown_HostBindingHandler($event) { return ctx.onKeydown.emit($event); })(\"click\", function NzMentionTriggerDirective_click_HostBindingHandler($event) { return ctx.onClick.emit($event); });\n    } }, exportAs: [\"nzMentionTrigger\"], features: [ɵngcc0.ɵɵProvidersFeature([NZ_MENTION_TRIGGER_ACCESSOR])] });\nNzMentionTriggerDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NzMentionService }\n];\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzMentionComponent {\n    constructor(ngDocument, cdr, overlay, viewContainerRef, nzMentionService) {\n        this.ngDocument = ngDocument;\n        this.cdr = cdr;\n        this.overlay = overlay;\n        this.viewContainerRef = viewContainerRef;\n        this.nzMentionService = nzMentionService;\n        this.nzValueWith = value => value;\n        this.nzPrefix = '@';\n        this.nzLoading = false;\n        this.nzNotFoundContent = '无匹配结果，轻敲空格完成输入';\n        this.nzPlacement = 'bottom';\n        this.nzSuggestions = [];\n        this.nzOnSelect = new EventEmitter();\n        this.nzOnSearchChange = new EventEmitter();\n        this.isOpen = false;\n        this.filteredSuggestions = [];\n        this.suggestionTemplate = null;\n        this.activeIndex = -1;\n        this.previousValue = null;\n        this.cursorMention = null;\n        this.overlayRef = null;\n    }\n    set suggestionChild(value) {\n        if (value) {\n            this.suggestionTemplate = value;\n        }\n    }\n    get triggerNativeElement() {\n        return this.trigger.el.nativeElement;\n    }\n    get focusItemElement() {\n        var _a;\n        const itemArr = (_a = this.items) === null || _a === void 0 ? void 0 : _a.toArray();\n        if (itemArr && itemArr[this.activeIndex]) {\n            return itemArr[this.activeIndex].nativeElement;\n        }\n        return null;\n    }\n    ngOnInit() {\n        this.nzMentionService.triggerChanged().subscribe(trigger => {\n            this.trigger = trigger;\n            this.bindTriggerEvents();\n            this.closeDropdown();\n            this.overlayRef = null;\n        });\n    }\n    ngOnChanges(changes) {\n        if (changes.hasOwnProperty('nzSuggestions')) {\n            if (this.isOpen) {\n                this.previousValue = null;\n                this.activeIndex = -1;\n                this.resetDropdown(false);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.closeDropdown();\n    }\n    closeDropdown() {\n        if (this.overlayRef && this.overlayRef.hasAttached()) {\n            this.overlayRef.detach();\n            this.overlayOutsideClickSubscription.unsubscribe();\n            this.isOpen = false;\n            this.cdr.markForCheck();\n        }\n    }\n    openDropdown() {\n        this.attachOverlay();\n        this.isOpen = true;\n        this.cdr.markForCheck();\n    }\n    getMentions() {\n        return this.trigger ? getMentions(this.trigger.value, this.nzPrefix) : [];\n    }\n    selectSuggestion(suggestion) {\n        const value = this.nzValueWith(suggestion);\n        this.trigger.insertMention({\n            mention: value,\n            startPos: this.cursorMentionStart,\n            endPos: this.cursorMentionEnd\n        });\n        this.nzOnSelect.emit(suggestion);\n        this.closeDropdown();\n        this.activeIndex = -1;\n    }\n    handleInput(event) {\n        const target = event.target;\n        this.trigger.onChange(target.value);\n        this.trigger.value = target.value;\n        this.resetDropdown();\n    }\n    handleKeydown(event) {\n        const keyCode = event.keyCode;\n        if (this.isOpen && keyCode === ENTER && this.activeIndex !== -1 && this.filteredSuggestions.length) {\n            this.selectSuggestion(this.filteredSuggestions[this.activeIndex]);\n            event.preventDefault();\n        }\n        else if (keyCode === LEFT_ARROW || keyCode === RIGHT_ARROW) {\n            this.resetDropdown();\n            event.stopPropagation();\n        }\n        else {\n            if (this.isOpen && (keyCode === TAB || keyCode === ESCAPE)) {\n                this.closeDropdown();\n                return;\n            }\n            if (this.isOpen && keyCode === UP_ARROW) {\n                this.setPreviousItemActive();\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            if (this.isOpen && keyCode === DOWN_ARROW) {\n                this.setNextItemActive();\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    }\n    handleClick() {\n        this.resetDropdown();\n    }\n    bindTriggerEvents() {\n        this.trigger.onInput.subscribe((e) => this.handleInput(e));\n        this.trigger.onKeydown.subscribe((e) => this.handleKeydown(e));\n        this.trigger.onClick.subscribe(() => this.handleClick());\n    }\n    suggestionsFilter(value, emit) {\n        const suggestions = value.substring(1);\n        /**\n         * Should always emit (nzOnSearchChange) when value empty\n         *\n         * @[something]... @[empty]... @[empty]\n         *     ^             ^           ^\n         * preValue        preValue  (should emit)\n         */\n        if (this.previousValue === value && value !== this.cursorMention[0]) {\n            return;\n        }\n        this.previousValue = value;\n        if (emit) {\n            this.nzOnSearchChange.emit({\n                value: this.cursorMention.substring(1),\n                prefix: this.cursorMention[0]\n            });\n        }\n        const searchValue = suggestions.toLowerCase();\n        this.filteredSuggestions = this.nzSuggestions.filter(suggestion => this.nzValueWith(suggestion).toLowerCase().includes(searchValue));\n    }\n    resetDropdown(emit = true) {\n        this.resetCursorMention();\n        if (typeof this.cursorMention !== 'string' || !this.canOpen()) {\n            this.closeDropdown();\n            return;\n        }\n        this.suggestionsFilter(this.cursorMention, emit);\n        const activeIndex = this.filteredSuggestions.indexOf(this.cursorMention.substring(1));\n        this.activeIndex = activeIndex >= 0 ? activeIndex : 0;\n        this.openDropdown();\n    }\n    setNextItemActive() {\n        this.activeIndex = this.activeIndex + 1 <= this.filteredSuggestions.length - 1 ? this.activeIndex + 1 : 0;\n        this.cdr.markForCheck();\n        this.scrollToFocusItem();\n    }\n    setPreviousItemActive() {\n        this.activeIndex = this.activeIndex - 1 < 0 ? this.filteredSuggestions.length - 1 : this.activeIndex - 1;\n        this.cdr.markForCheck();\n        this.scrollToFocusItem();\n    }\n    scrollToFocusItem() {\n        if (this.focusItemElement) {\n            this.focusItemElement.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });\n        }\n    }\n    canOpen() {\n        const element = this.triggerNativeElement;\n        return !element.readOnly && !element.disabled;\n    }\n    resetCursorMention() {\n        const value = this.triggerNativeElement.value.replace(/[\\r\\n]/g, NZ_MENTION_CONFIG.split) || '';\n        const selectionStart = this.triggerNativeElement.selectionStart;\n        const prefix = typeof this.nzPrefix === 'string' ? [this.nzPrefix] : this.nzPrefix;\n        let i = prefix.length;\n        while (i >= 0) {\n            const startPos = value.lastIndexOf(prefix[i], selectionStart);\n            const endPos = value.indexOf(NZ_MENTION_CONFIG.split, selectionStart) > -1 ? value.indexOf(NZ_MENTION_CONFIG.split, selectionStart) : value.length;\n            const mention = value.substring(startPos, endPos);\n            if ((startPos > 0 && value[startPos - 1] !== NZ_MENTION_CONFIG.split) ||\n                startPos < 0 ||\n                mention.includes(prefix[i], 1) ||\n                mention.includes(NZ_MENTION_CONFIG.split)) {\n                this.cursorMention = null;\n                this.cursorMentionStart = -1;\n                this.cursorMentionEnd = -1;\n            }\n            else {\n                this.cursorMention = mention;\n                this.cursorMentionStart = startPos;\n                this.cursorMentionEnd = endPos;\n                return;\n            }\n            i--;\n        }\n    }\n    updatePositions() {\n        const coordinates = getCaretCoordinates(this.triggerNativeElement, this.cursorMentionStart);\n        const top = coordinates.top -\n            this.triggerNativeElement.getBoundingClientRect().height -\n            this.triggerNativeElement.scrollTop +\n            (this.nzPlacement === 'bottom' ? coordinates.height - 6 : -6);\n        const left = coordinates.left - this.triggerNativeElement.scrollLeft;\n        this.positionStrategy.withDefaultOffsetX(left).withDefaultOffsetY(top);\n        if (this.nzPlacement === 'bottom') {\n            this.positionStrategy.withPositions([...DEFAULT_MENTION_BOTTOM_POSITIONS]);\n        }\n        if (this.nzPlacement === 'top') {\n            this.positionStrategy.withPositions([...DEFAULT_MENTION_TOP_POSITIONS]);\n        }\n        this.positionStrategy.apply();\n    }\n    subscribeOverlayOutsideClick() {\n        return merge(this.overlayRef.outsidePointerEvents(), fromEvent(this.ngDocument, 'touchend')).subscribe((event) => {\n            var _a;\n            const clickTarget = event.target;\n            if (this.isOpen && clickTarget !== this.trigger.el.nativeElement && !((_a = this.overlayRef) === null || _a === void 0 ? void 0 : _a.overlayElement.contains(clickTarget))) {\n                this.closeDropdown();\n            }\n        });\n    }\n    attachOverlay() {\n        if (!this.overlayRef) {\n            this.portal = new TemplatePortal(this.suggestionsTemp, this.viewContainerRef);\n            this.overlayRef = this.overlay.create(this.getOverlayConfig());\n        }\n        if (this.overlayRef && !this.overlayRef.hasAttached()) {\n            this.overlayRef.attach(this.portal);\n            this.overlayOutsideClickSubscription = this.subscribeOverlayOutsideClick();\n        }\n        this.updatePositions();\n    }\n    getOverlayConfig() {\n        return new OverlayConfig({\n            positionStrategy: this.getOverlayPosition(),\n            scrollStrategy: this.overlay.scrollStrategies.reposition(),\n            disposeOnNavigation: true\n        });\n    }\n    getOverlayPosition() {\n        const positions = [\n            new ConnectionPositionPair({ originX: 'start', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),\n            new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' })\n        ];\n        this.positionStrategy = this.overlay\n            .position()\n            .flexibleConnectedTo(this.trigger.el)\n            .withPositions(positions)\n            .withFlexibleDimensions(false)\n            .withPush(false);\n        return this.positionStrategy;\n    }\n}\nNzMentionComponent.ɵfac = function NzMentionComponent_Factory(t) { return new (t || NzMentionComponent)(ɵngcc0.ɵɵdirectiveInject(DOCUMENT, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(NzMentionService)); };\nNzMentionComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NzMentionComponent, selectors: [[\"nz-mention\"]], contentQueries: function NzMentionComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, NzMentionSuggestionDirective, 5, TemplateRef);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.suggestionChild = _t.first);\n    } }, viewQuery: function NzMentionComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(TemplateRef, 5);\n        ɵngcc0.ɵɵviewQuery(_c0, 5, ElementRef);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.suggestionsTemp = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.items = _t);\n    } }, inputs: { nzValueWith: \"nzValueWith\", nzPrefix: \"nzPrefix\", nzLoading: \"nzLoading\", nzNotFoundContent: \"nzNotFoundContent\", nzPlacement: \"nzPlacement\", nzSuggestions: \"nzSuggestions\" }, outputs: { nzOnSelect: \"nzOnSelect\", nzOnSearchChange: \"nzOnSearchChange\" }, exportAs: [\"nzMention\"], features: [ɵngcc0.ɵɵProvidersFeature([NzMentionService]), ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c2, decls: 3, vars: 0, consts: [[\"suggestions\", \"\"], [1, \"ant-mention-dropdown\"], [\"class\", \"ant-mention-dropdown-item\", 3, \"focus\", \"mousedown\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ant-mention-dropdown-notfound ant-mention-dropdown-item\", 4, \"ngIf\"], [1, \"ant-mention-dropdown-item\", 3, \"mousedown\", \"click\"], [\"items\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"defaultSuggestion\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"ant-mention-dropdown-notfound\", \"ant-mention-dropdown-item\"], [4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"loading\"]], template: function NzMentionComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵtemplate(1, NzMentionComponent_ng_template_1_Template, 3, 2, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n    } }, directives: [ɵngcc2.NgForOf, ɵngcc2.NgIf, ɵngcc2.NgTemplateOutlet, ɵngcc3.NzIconDirective], encapsulation: 2, changeDetection: 0 });\nNzMentionComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] },\n    { type: ChangeDetectorRef },\n    { type: Overlay },\n    { type: ViewContainerRef },\n    { type: NzMentionService }\n];\nNzMentionComponent.propDecorators = {\n    nzValueWith: [{ type: Input }],\n    nzPrefix: [{ type: Input }],\n    nzLoading: [{ type: Input }],\n    nzNotFoundContent: [{ type: Input }],\n    nzPlacement: [{ type: Input }],\n    nzSuggestions: [{ type: Input }],\n    nzOnSelect: [{ type: Output }],\n    nzOnSearchChange: [{ type: Output }],\n    suggestionsTemp: [{ type: ViewChild, args: [TemplateRef, { static: false },] }],\n    items: [{ type: ViewChildren, args: ['items', { read: ElementRef },] }],\n    suggestionChild: [{ type: ContentChild, args: [NzMentionSuggestionDirective, { static: false, read: TemplateRef },] }]\n};\n__decorate([\n    InputBoolean(),\n    __metadata(\"design:type\", Object)\n], NzMentionComponent.prototype, \"nzLoading\", void 0);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionSuggestionDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[nzMentionSuggestion]',\n                exportAs: 'nzMentionSuggestion'\n            }]\n    }], null, null); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionTriggerDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'input[nzMentionTrigger], textarea[nzMentionTrigger]',\n                exportAs: 'nzMentionTrigger',\n                providers: [NZ_MENTION_TRIGGER_ACCESSOR],\n                host: {\n                    autocomplete: 'off',\n                    '(focusin)': 'onFocusin.emit()',\n                    '(blur)': 'onBlur.emit()',\n                    '(input)': 'onInput.emit($event)',\n                    '(keydown)': 'onKeydown.emit($event)',\n                    '(click)': 'onClick.emit($event)'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: NzMentionService }]; }, null); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-mention',\n                exportAs: 'nzMention',\n                template: `\n    <ng-content></ng-content>\n    <ng-template #suggestions>\n      <ul class=\"ant-mention-dropdown\">\n        <li\n          #items\n          class=\"ant-mention-dropdown-item\"\n          *ngFor=\"let suggestion of filteredSuggestions; let i = index\"\n          [class.focus]=\"i === activeIndex\"\n          (mousedown)=\"$event.preventDefault()\"\n          (click)=\"selectSuggestion(suggestion)\"\n        >\n          <ng-container *ngIf=\"suggestionTemplate; else defaultSuggestion\">\n            <ng-container *ngTemplateOutlet=\"suggestionTemplate; context: { $implicit: suggestion }\"></ng-container>\n          </ng-container>\n          <ng-template #defaultSuggestion>{{ nzValueWith(suggestion) }}</ng-template>\n        </li>\n        <li class=\"ant-mention-dropdown-notfound ant-mention-dropdown-item\" *ngIf=\"filteredSuggestions.length === 0\">\n          <span *ngIf=\"nzLoading\"><i nz-icon nzType=\"loading\"></i></span>\n          <span *ngIf=\"!nzLoading\">{{ nzNotFoundContent }}</span>\n        </li>\n      </ul>\n    </ng-template>\n  `,\n                preserveWhitespaces: false,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                providers: [NzMentionService]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.Overlay }, { type: ɵngcc0.ViewContainerRef }, { type: NzMentionService }]; }, { nzValueWith: [{\n            type: Input\n        }], nzPrefix: [{\n            type: Input\n        }], nzLoading: [{\n            type: Input\n        }], nzNotFoundContent: [{\n            type: Input\n        }], nzPlacement: [{\n            type: Input\n        }], nzSuggestions: [{\n            type: Input\n        }], nzOnSelect: [{\n            type: Output\n        }], nzOnSearchChange: [{\n            type: Output\n        }], suggestionChild: [{\n            type: ContentChild,\n            args: [NzMentionSuggestionDirective, { static: false, read: TemplateRef }]\n        }], suggestionsTemp: [{\n            type: ViewChild,\n            args: [TemplateRef, { static: false }]\n        }], items: [{\n            type: ViewChildren,\n            args: ['items', { read: ElementRef }]\n        }] }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst COMPONENTS = [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective];\nclass NzMentionModule {\n}\nNzMentionModule.ɵfac = function NzMentionModule_Factory(t) { return new (t || NzMentionModule)(); };\nNzMentionModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NzMentionModule });\nNzMentionModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzMentionModule, [{\n        type: NgModule,\n        args: [{\n                imports: [BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule],\n                declarations: [...COMPONENTS],\n                exports: [...COMPONENTS]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzMentionModule, { declarations: function () { return [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective]; }, imports: function () { return [BidiModule, CommonModule, FormsModule, OverlayModule, NzIconModule]; }, exports: function () { return [NzMentionComponent, NzMentionTriggerDirective, NzMentionSuggestionDirective]; } }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NZ_MENTION_TRIGGER_ACCESSOR, NzMentionComponent, NzMentionModule, NzMentionService, NzMentionSuggestionDirective, NzMentionTriggerDirective };\n\n//# sourceMappingURL=ng-zorro-antd-mention.js.map"]},"metadata":{},"sourceType":"module"}