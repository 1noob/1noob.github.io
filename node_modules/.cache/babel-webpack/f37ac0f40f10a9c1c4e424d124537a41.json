{"ast":null,"code":"import _classCallCheck from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, ChangeDetectorRef, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from 'ng-zorro-antd/icon';\nvar _c0 = [\"textEl\"];\n\nfunction NzAvatarComponent_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 3);\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nzType\", ctx_r0.nzIcon);\n  }\n}\n\nfunction NzAvatarComponent_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"img\", 4);\n    ɵngcc0.ɵɵlistener(\"error\", function NzAvatarComponent_img_1_Template_img_error_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      var ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ctx_r3.imgError($event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r1.nzSrc, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"srcset\", ctx_r1.nzSrcSet, ɵngcc0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.nzAlt);\n  }\n}\n\nfunction NzAvatarComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 5, 6);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r2.textStyles);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.nzText);\n  }\n}\n\nvar _c1 = [\"*\"];\nvar NZ_CONFIG_MODULE_NAME = 'avatar';\n\nvar NzAvatarComponent = /*#__PURE__*/function () {\n  function NzAvatarComponent(nzConfigService, elementRef, cdr, platform) {\n    _classCallCheck(this, NzAvatarComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.elementRef = elementRef;\n    this.cdr = cdr;\n    this.platform = platform;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzShape = 'circle';\n    this.nzSize = 'default';\n    this.nzGap = 4;\n    this.nzError = new EventEmitter();\n    this.hasText = false;\n    this.hasSrc = true;\n    this.hasIcon = false;\n    this.textStyles = {};\n    this.classMap = {};\n    this.customSize = null;\n    this.el = this.elementRef.nativeElement; // TODO: move to host after View Engine deprecation\n\n    this.elementRef.nativeElement.classList.add('ant-avatar');\n  }\n\n  _createClass(NzAvatarComponent, [{\n    key: \"imgError\",\n    value: function imgError($event) {\n      this.nzError.emit($event);\n\n      if (!$event.defaultPrevented) {\n        this.hasSrc = false;\n        this.hasIcon = false;\n        this.hasText = false;\n\n        if (this.nzIcon) {\n          this.hasIcon = true;\n        } else if (this.nzText) {\n          this.hasText = true;\n        }\n\n        this.cdr.detectChanges();\n        this.setSizeStyle();\n        this.notifyCalc();\n      }\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.hasText = !this.nzSrc && !!this.nzText;\n      this.hasIcon = !this.nzSrc && !!this.nzIcon;\n      this.hasSrc = !!this.nzSrc;\n      this.setSizeStyle();\n      this.notifyCalc();\n    }\n  }, {\n    key: \"calcStringSize\",\n    value: function calcStringSize() {\n      if (!this.hasText) {\n        return;\n      }\n\n      var childrenWidth = this.textEl.nativeElement.offsetWidth;\n      var avatarWidth = this.el.getBoundingClientRect().width;\n      var offset = this.nzGap * 2 < avatarWidth ? this.nzGap * 2 : 8;\n      var scale = avatarWidth - offset < childrenWidth ? (avatarWidth - offset) / childrenWidth : 1;\n      this.textStyles = {\n        transform: \"scale(\".concat(scale, \") translateX(-50%)\")\n      };\n\n      if (this.customSize) {\n        Object.assign(this.textStyles, {\n          lineHeight: this.customSize\n        });\n      }\n\n      this.cdr.detectChanges();\n    }\n  }, {\n    key: \"notifyCalc\",\n    value: function notifyCalc() {\n      var _this = this;\n\n      // If use ngAfterViewChecked, always demands more computations, so......\n      if (this.platform.isBrowser) {\n        setTimeout(function () {\n          _this.calcStringSize();\n        });\n      }\n    }\n  }, {\n    key: \"setSizeStyle\",\n    value: function setSizeStyle() {\n      if (typeof this.nzSize === 'number') {\n        this.customSize = \"\".concat(this.nzSize, \"px\");\n      } else {\n        this.customSize = null;\n      }\n\n      this.cdr.markForCheck();\n    }\n  }]);\n\n  return NzAvatarComponent;\n}();\n\nNzAvatarComponent.ɵfac = function NzAvatarComponent_Factory(t) {\n  return new (t || NzAvatarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform));\n};\n\nNzAvatarComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: NzAvatarComponent,\n  selectors: [[\"nz-avatar\"]],\n  viewQuery: function NzAvatarComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.textEl = _t.first);\n    }\n  },\n  hostVars: 20,\n  hostBindings: function NzAvatarComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵstyleProp(\"width\", ctx.customSize)(\"height\", ctx.customSize)(\"line-height\", ctx.customSize)(\"font-size\", ctx.hasIcon && ctx.customSize ? ctx.nzSize / 2 : null, \"px\");\n      ɵngcc0.ɵɵclassProp(\"ant-avatar-lg\", ctx.nzSize === \"large\")(\"ant-avatar-sm\", ctx.nzSize === \"small\")(\"ant-avatar-square\", ctx.nzShape === \"square\")(\"ant-avatar-circle\", ctx.nzShape === \"circle\")(\"ant-avatar-icon\", ctx.nzIcon)(\"ant-avatar-image\", ctx.hasSrc);\n    }\n  },\n  inputs: {\n    nzShape: \"nzShape\",\n    nzSize: \"nzSize\",\n    nzGap: \"nzGap\",\n    nzText: \"nzText\",\n    nzSrc: \"nzSrc\",\n    nzSrcSet: \"nzSrcSet\",\n    nzAlt: \"nzAlt\",\n    nzIcon: \"nzIcon\"\n  },\n  outputs: {\n    nzError: \"nzError\"\n  },\n  exportAs: [\"nzAvatar\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 3,\n  vars: 3,\n  consts: [[\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngIf\"], [3, \"src\", \"error\", 4, \"ngIf\"], [\"class\", \"ant-avatar-string\", 3, \"ngStyle\", 4, \"ngIf\"], [\"nz-icon\", \"\", 3, \"nzType\"], [3, \"src\", \"error\"], [1, \"ant-avatar-string\", 3, \"ngStyle\"], [\"textEl\", \"\"]],\n  template: function NzAvatarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, NzAvatarComponent_i_0_Template, 1, 1, \"i\", 0);\n      ɵngcc0.ɵɵtemplate(1, NzAvatarComponent_img_1_Template, 1, 3, \"img\", 1);\n      ɵngcc0.ɵɵtemplate(2, NzAvatarComponent_span_2_Template, 3, 2, \"span\", 2);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzIcon && ctx.hasIcon);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzSrc && ctx.hasSrc);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzText && ctx.hasText);\n    }\n  },\n  directives: [ɵngcc3.NgIf, ɵngcc4.NzIconDirective, ɵngcc3.NgStyle],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzAvatarComponent.ctorParameters = function () {\n  return [{\n    type: NzConfigService\n  }, {\n    type: ElementRef\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: Platform\n  }];\n};\n\nNzAvatarComponent.propDecorators = {\n  nzShape: [{\n    type: Input\n  }],\n  nzSize: [{\n    type: Input\n  }],\n  nzGap: [{\n    type: Input\n  }],\n  nzText: [{\n    type: Input\n  }],\n  nzSrc: [{\n    type: Input\n  }],\n  nzSrcSet: [{\n    type: Input\n  }],\n  nzAlt: [{\n    type: Input\n  }],\n  nzIcon: [{\n    type: Input\n  }],\n  nzError: [{\n    type: Output\n  }],\n  textEl: [{\n    type: ViewChild,\n    args: ['textEl', {\n      static: false\n    }]\n  }]\n};\n\n__decorate([WithConfig(), __metadata(\"design:type\", String)], NzAvatarComponent.prototype, \"nzShape\", void 0);\n\n__decorate([WithConfig(), __metadata(\"design:type\", Object)], NzAvatarComponent.prototype, \"nzSize\", void 0);\n\n__decorate([WithConfig(), InputNumber(), __metadata(\"design:type\", Object)], NzAvatarComponent.prototype, \"nzGap\", void 0);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-avatar',\n      exportAs: 'nzAvatar',\n      template: \"\\n    <i nz-icon *ngIf=\\\"nzIcon && hasIcon\\\" [nzType]=\\\"nzIcon\\\"></i>\\n    <img *ngIf=\\\"nzSrc && hasSrc\\\" [src]=\\\"nzSrc\\\" [attr.srcset]=\\\"nzSrcSet\\\" [attr.alt]=\\\"nzAlt\\\" (error)=\\\"imgError($event)\\\" />\\n    <span class=\\\"ant-avatar-string\\\" #textEl [ngStyle]=\\\"textStyles\\\" *ngIf=\\\"nzText && hasText\\\">{{ nzText }}</span>\\n  \",\n      host: {\n        '[class.ant-avatar-lg]': \"nzSize === 'large'\",\n        '[class.ant-avatar-sm]': \"nzSize === 'small'\",\n        '[class.ant-avatar-square]': \"nzShape === 'square'\",\n        '[class.ant-avatar-circle]': \"nzShape === 'circle'\",\n        '[class.ant-avatar-icon]': \"nzIcon\",\n        '[class.ant-avatar-image]': \"hasSrc \",\n        '[style.width]': 'customSize',\n        '[style.height]': 'customSize',\n        '[style.line-height]': 'customSize',\n        // nzSize type is number when customSize is true\n        '[style.font-size.px]': '(hasIcon && customSize) ? $any(nzSize) / 2 : null'\n      },\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc2.Platform\n    }];\n  }, {\n    nzShape: [{\n      type: Input\n    }],\n    nzSize: [{\n      type: Input\n    }],\n    nzGap: [{\n      type: Input\n    }],\n    nzError: [{\n      type: Output\n    }],\n    nzText: [{\n      type: Input\n    }],\n    nzSrc: [{\n      type: Input\n    }],\n    nzSrcSet: [{\n      type: Input\n    }],\n    nzAlt: [{\n      type: Input\n    }],\n    nzIcon: [{\n      type: Input\n    }],\n    textEl: [{\n      type: ViewChild,\n      args: ['textEl', {\n        static: false\n      }]\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzAvatarGroupComponent = function NzAvatarGroupComponent() {\n  _classCallCheck(this, NzAvatarGroupComponent);\n};\n\nNzAvatarGroupComponent.ɵfac = function NzAvatarGroupComponent_Factory(t) {\n  return new (t || NzAvatarGroupComponent)();\n};\n\nNzAvatarGroupComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: NzAvatarGroupComponent,\n  selectors: [[\"nz-avatar-group\"]],\n  hostAttrs: [1, \"ant-avatar-group\"],\n  exportAs: [\"nzAvatarGroup\"],\n  ngContentSelectors: _c1,\n  decls: 1,\n  vars: 0,\n  template: function NzAvatarGroupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarGroupComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-avatar-group',\n      exportAs: 'nzAvatarGroup',\n      template: \"\\n    <ng-content></ng-content>\\n  \",\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      host: {\n        class: 'ant-avatar-group'\n      }\n    }]\n  }], null, null);\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzAvatarModule = function NzAvatarModule() {\n  _classCallCheck(this, NzAvatarModule);\n};\n\nNzAvatarModule.ɵfac = function NzAvatarModule_Factory(t) {\n  return new (t || NzAvatarModule)();\n};\n\nNzAvatarModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: NzAvatarModule\n});\nNzAvatarModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, NzIconModule, PlatformModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzAvatarComponent, NzAvatarGroupComponent],\n      exports: [NzAvatarComponent, NzAvatarGroupComponent],\n      imports: [BidiModule, CommonModule, NzIconModule, PlatformModule]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzAvatarModule, {\n    declarations: function declarations() {\n      return [NzAvatarComponent, NzAvatarGroupComponent];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, NzIconModule, PlatformModule];\n    },\n    exports: function exports() {\n      return [NzAvatarComponent, NzAvatarGroupComponent];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzAvatarComponent, NzAvatarModule, NzAvatarGroupComponent as ɵa }; //# sourceMappingURL=ng-zorro-antd-avatar.js.map","map":{"version":3,"sources":["/Users/mac/WebstormProjects/github-page/node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-avatar.js"],"names":["__decorate","__metadata","Platform","PlatformModule","EventEmitter","Component","ChangeDetectionStrategy","ViewEncapsulation","ElementRef","ChangeDetectorRef","Input","Output","ViewChild","NgModule","NzConfigService","WithConfig","InputNumber","BidiModule","CommonModule","NzIconModule","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","_c0","NzAvatarComponent_i_0_Template","rf","ctx","ɵɵelement","ctx_r0","ɵɵnextContext","ɵɵproperty","nzIcon","NzAvatarComponent_img_1_Template","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","NzAvatarComponent_img_1_Template_img_error_0_listener","$event","ɵɵrestoreView","ctx_r3","imgError","ɵɵelementEnd","ctx_r1","nzSrc","ɵɵsanitizeUrl","ɵɵattribute","nzSrcSet","nzAlt","NzAvatarComponent_span_2_Template","ɵɵtext","ctx_r2","textStyles","ɵɵadvance","ɵɵtextInterpolate","nzText","_c1","NZ_CONFIG_MODULE_NAME","NzAvatarComponent","nzConfigService","elementRef","cdr","platform","_nzModuleName","nzShape","nzSize","nzGap","nzError","hasText","hasSrc","hasIcon","classMap","customSize","el","nativeElement","classList","add","emit","defaultPrevented","detectChanges","setSizeStyle","notifyCalc","childrenWidth","textEl","offsetWidth","avatarWidth","getBoundingClientRect","width","offset","scale","transform","Object","assign","lineHeight","isBrowser","setTimeout","calcStringSize","markForCheck","ɵfac","NzAvatarComponent_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","NzAvatarComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","hostVars","hostBindings","NzAvatarComponent_HostBindings","ɵɵstyleProp","ɵɵclassProp","inputs","outputs","exportAs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","NzAvatarComponent_Template","ɵɵtemplate","directives","NgIf","NzIconDirective","NgStyle","encapsulation","changeDetection","ctorParameters","propDecorators","args","static","String","prototype","ngDevMode","ɵsetClassMetadata","selector","host","preserveWhitespaces","OnPush","None","NzAvatarGroupComponent","NzAvatarGroupComponent_Factory","hostAttrs","ngContentSelectors","NzAvatarGroupComponent_Template","ɵɵprojectionDef","ɵɵprojection","class","NzAvatarModule","NzAvatarModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope","ɵa"],"mappings":"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","sourcesContent":["import { __decorate, __metadata } from 'tslib';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, ChangeDetectorRef, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { InputNumber } from 'ng-zorro-antd/core/util';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from 'ng-zorro-antd/icon';\n\nconst _c0 = [\"textEl\"];\nfunction NzAvatarComponent_i_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 3);\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"nzType\", ctx_r0.nzIcon);\n} }\nfunction NzAvatarComponent_img_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"img\", 4);\n    ɵngcc0.ɵɵlistener(\"error\", function NzAvatarComponent_img_1_Template_img_error_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.imgError($event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r1.nzSrc, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"srcset\", ctx_r1.nzSrcSet, ɵngcc0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.nzAlt);\n} }\nfunction NzAvatarComponent_span_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 5, 6);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngStyle\", ctx_r2.textStyles);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.nzText);\n} }\nconst _c1 = [\"*\"];\nconst NZ_CONFIG_MODULE_NAME = 'avatar';\nclass NzAvatarComponent {\n    constructor(nzConfigService, elementRef, cdr, platform) {\n        this.nzConfigService = nzConfigService;\n        this.elementRef = elementRef;\n        this.cdr = cdr;\n        this.platform = platform;\n        this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n        this.nzShape = 'circle';\n        this.nzSize = 'default';\n        this.nzGap = 4;\n        this.nzError = new EventEmitter();\n        this.hasText = false;\n        this.hasSrc = true;\n        this.hasIcon = false;\n        this.textStyles = {};\n        this.classMap = {};\n        this.customSize = null;\n        this.el = this.elementRef.nativeElement;\n        // TODO: move to host after View Engine deprecation\n        this.elementRef.nativeElement.classList.add('ant-avatar');\n    }\n    imgError($event) {\n        this.nzError.emit($event);\n        if (!$event.defaultPrevented) {\n            this.hasSrc = false;\n            this.hasIcon = false;\n            this.hasText = false;\n            if (this.nzIcon) {\n                this.hasIcon = true;\n            }\n            else if (this.nzText) {\n                this.hasText = true;\n            }\n            this.cdr.detectChanges();\n            this.setSizeStyle();\n            this.notifyCalc();\n        }\n    }\n    ngOnChanges() {\n        this.hasText = !this.nzSrc && !!this.nzText;\n        this.hasIcon = !this.nzSrc && !!this.nzIcon;\n        this.hasSrc = !!this.nzSrc;\n        this.setSizeStyle();\n        this.notifyCalc();\n    }\n    calcStringSize() {\n        if (!this.hasText) {\n            return;\n        }\n        const childrenWidth = this.textEl.nativeElement.offsetWidth;\n        const avatarWidth = this.el.getBoundingClientRect().width;\n        const offset = this.nzGap * 2 < avatarWidth ? this.nzGap * 2 : 8;\n        const scale = avatarWidth - offset < childrenWidth ? (avatarWidth - offset) / childrenWidth : 1;\n        this.textStyles = {\n            transform: `scale(${scale}) translateX(-50%)`\n        };\n        if (this.customSize) {\n            Object.assign(this.textStyles, {\n                lineHeight: this.customSize\n            });\n        }\n        this.cdr.detectChanges();\n    }\n    notifyCalc() {\n        // If use ngAfterViewChecked, always demands more computations, so......\n        if (this.platform.isBrowser) {\n            setTimeout(() => {\n                this.calcStringSize();\n            });\n        }\n    }\n    setSizeStyle() {\n        if (typeof this.nzSize === 'number') {\n            this.customSize = `${this.nzSize}px`;\n        }\n        else {\n            this.customSize = null;\n        }\n        this.cdr.markForCheck();\n    }\n}\nNzAvatarComponent.ɵfac = function NzAvatarComponent_Factory(t) { return new (t || NzAvatarComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform)); };\nNzAvatarComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NzAvatarComponent, selectors: [[\"nz-avatar\"]], viewQuery: function NzAvatarComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.textEl = _t.first);\n    } }, hostVars: 20, hostBindings: function NzAvatarComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.customSize)(\"height\", ctx.customSize)(\"line-height\", ctx.customSize)(\"font-size\", ctx.hasIcon && ctx.customSize ? ctx.nzSize / 2 : null, \"px\");\n        ɵngcc0.ɵɵclassProp(\"ant-avatar-lg\", ctx.nzSize === \"large\")(\"ant-avatar-sm\", ctx.nzSize === \"small\")(\"ant-avatar-square\", ctx.nzShape === \"square\")(\"ant-avatar-circle\", ctx.nzShape === \"circle\")(\"ant-avatar-icon\", ctx.nzIcon)(\"ant-avatar-image\", ctx.hasSrc);\n    } }, inputs: { nzShape: \"nzShape\", nzSize: \"nzSize\", nzGap: \"nzGap\", nzText: \"nzText\", nzSrc: \"nzSrc\", nzSrcSet: \"nzSrcSet\", nzAlt: \"nzAlt\", nzIcon: \"nzIcon\" }, outputs: { nzError: \"nzError\" }, exportAs: [\"nzAvatar\"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 3, vars: 3, consts: [[\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngIf\"], [3, \"src\", \"error\", 4, \"ngIf\"], [\"class\", \"ant-avatar-string\", 3, \"ngStyle\", 4, \"ngIf\"], [\"nz-icon\", \"\", 3, \"nzType\"], [3, \"src\", \"error\"], [1, \"ant-avatar-string\", 3, \"ngStyle\"], [\"textEl\", \"\"]], template: function NzAvatarComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, NzAvatarComponent_i_0_Template, 1, 1, \"i\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzAvatarComponent_img_1_Template, 1, 3, \"img\", 1);\n        ɵngcc0.ɵɵtemplate(2, NzAvatarComponent_span_2_Template, 3, 2, \"span\", 2);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzIcon && ctx.hasIcon);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzSrc && ctx.hasSrc);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzText && ctx.hasText);\n    } }, directives: [ɵngcc3.NgIf, ɵngcc4.NzIconDirective, ɵngcc3.NgStyle], encapsulation: 2, changeDetection: 0 });\nNzAvatarComponent.ctorParameters = () => [\n    { type: NzConfigService },\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: Platform }\n];\nNzAvatarComponent.propDecorators = {\n    nzShape: [{ type: Input }],\n    nzSize: [{ type: Input }],\n    nzGap: [{ type: Input }],\n    nzText: [{ type: Input }],\n    nzSrc: [{ type: Input }],\n    nzSrcSet: [{ type: Input }],\n    nzAlt: [{ type: Input }],\n    nzIcon: [{ type: Input }],\n    nzError: [{ type: Output }],\n    textEl: [{ type: ViewChild, args: ['textEl', { static: false },] }]\n};\n__decorate([\n    WithConfig(),\n    __metadata(\"design:type\", String)\n], NzAvatarComponent.prototype, \"nzShape\", void 0);\n__decorate([\n    WithConfig(),\n    __metadata(\"design:type\", Object)\n], NzAvatarComponent.prototype, \"nzSize\", void 0);\n__decorate([\n    WithConfig(),\n    InputNumber(),\n    __metadata(\"design:type\", Object)\n], NzAvatarComponent.prototype, \"nzGap\", void 0);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-avatar',\n                exportAs: 'nzAvatar',\n                template: `\n    <i nz-icon *ngIf=\"nzIcon && hasIcon\" [nzType]=\"nzIcon\"></i>\n    <img *ngIf=\"nzSrc && hasSrc\" [src]=\"nzSrc\" [attr.srcset]=\"nzSrcSet\" [attr.alt]=\"nzAlt\" (error)=\"imgError($event)\" />\n    <span class=\"ant-avatar-string\" #textEl [ngStyle]=\"textStyles\" *ngIf=\"nzText && hasText\">{{ nzText }}</span>\n  `,\n                host: {\n                    '[class.ant-avatar-lg]': `nzSize === 'large'`,\n                    '[class.ant-avatar-sm]': `nzSize === 'small'`,\n                    '[class.ant-avatar-square]': `nzShape === 'square'`,\n                    '[class.ant-avatar-circle]': `nzShape === 'circle'`,\n                    '[class.ant-avatar-icon]': `nzIcon`,\n                    '[class.ant-avatar-image]': `hasSrc `,\n                    '[style.width]': 'customSize',\n                    '[style.height]': 'customSize',\n                    '[style.line-height]': 'customSize',\n                    // nzSize type is number when customSize is true\n                    '[style.font-size.px]': '(hasIcon && customSize) ? $any(nzSize) / 2 : null'\n                },\n                preserveWhitespaces: false,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return [{ type: ɵngcc1.NzConfigService }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc2.Platform }]; }, { nzShape: [{\n            type: Input\n        }], nzSize: [{\n            type: Input\n        }], nzGap: [{\n            type: Input\n        }], nzError: [{\n            type: Output\n        }], nzText: [{\n            type: Input\n        }], nzSrc: [{\n            type: Input\n        }], nzSrcSet: [{\n            type: Input\n        }], nzAlt: [{\n            type: Input\n        }], nzIcon: [{\n            type: Input\n        }], textEl: [{\n            type: ViewChild,\n            args: ['textEl', { static: false }]\n        }] }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzAvatarGroupComponent {\n}\nNzAvatarGroupComponent.ɵfac = function NzAvatarGroupComponent_Factory(t) { return new (t || NzAvatarGroupComponent)(); };\nNzAvatarGroupComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NzAvatarGroupComponent, selectors: [[\"nz-avatar-group\"]], hostAttrs: [1, \"ant-avatar-group\"], exportAs: [\"nzAvatarGroup\"], ngContentSelectors: _c1, decls: 1, vars: 0, template: function NzAvatarGroupComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n    } }, encapsulation: 2, changeDetection: 0 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarGroupComponent, [{\n        type: Component,\n        args: [{\n                selector: 'nz-avatar-group',\n                exportAs: 'nzAvatarGroup',\n                template: `\n    <ng-content></ng-content>\n  `,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: {\n                    class: 'ant-avatar-group'\n                }\n            }]\n    }], null, null); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzAvatarModule {\n}\nNzAvatarModule.ɵfac = function NzAvatarModule_Factory(t) { return new (t || NzAvatarModule)(); };\nNzAvatarModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NzAvatarModule });\nNzAvatarModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[BidiModule, CommonModule, NzIconModule, PlatformModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzAvatarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [NzAvatarComponent, NzAvatarGroupComponent],\n                exports: [NzAvatarComponent, NzAvatarGroupComponent],\n                imports: [BidiModule, CommonModule, NzIconModule, PlatformModule]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzAvatarModule, { declarations: function () { return [NzAvatarComponent, NzAvatarGroupComponent]; }, imports: function () { return [BidiModule, CommonModule, NzIconModule, PlatformModule]; }, exports: function () { return [NzAvatarComponent, NzAvatarGroupComponent]; } }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NzAvatarComponent, NzAvatarModule, NzAvatarGroupComponent as ɵa };\n\n//# sourceMappingURL=ng-zorro-antd-avatar.js.map"]},"metadata":{},"sourceType":"module"}