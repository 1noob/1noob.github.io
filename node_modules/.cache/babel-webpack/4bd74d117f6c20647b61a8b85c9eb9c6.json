{"ast":null,"code":"import _get from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/WebstormProjects/github-page/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { Directive, ElementRef, Renderer2, InjectionToken, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ChangeDetectorRef, Optional, Inject, ContentChildren, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { __decorate, __metadata } from 'tslib';\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzResizeService, NzDragService } from 'ng-zorro-antd/core/services';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/core/services';\nimport * as ɵngcc4 from '@angular/cdk/bidi';\nimport * as ɵngcc5 from '@angular/common';\nvar _c0 = [\"slickList\"];\nvar _c1 = [\"slickTrack\"];\n\nfunction NzCarouselComponent_ul_6_li_1_ng_template_1_Template(rf, ctx) {}\n\nvar _c2 = function _c2(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzCarouselComponent_ul_6_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r10 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"li\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function NzCarouselComponent_ul_6_li_1_Template_li_click_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10);\n      var i_r7 = restoredCtx.index;\n      var ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r9.onLiClick(i_r7);\n    });\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_ng_template_1_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var content_r6 = ctx.$implicit;\n    var i_r7 = ctx.index;\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n\n    var _r3 = ɵngcc0.ɵɵreference(8);\n\n    ɵngcc0.ɵɵclassProp(\"slick-active\", content_r6.isActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.nzDotRender || _r3)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c2, i_r7));\n  }\n}\n\nfunction NzCarouselComponent_ul_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 7);\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_Template, 2, 6, \"li\", 8);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"slick-dots-top\", ctx_r2.nzDotPosition === \"top\")(\"slick-dots-bottom\", ctx_r2.nzDotPosition === \"bottom\")(\"slick-dots-left\", ctx_r2.nzDotPosition === \"left\")(\"slick-dots-right\", ctx_r2.nzDotPosition === \"right\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r2.carouselContents);\n  }\n}\n\nfunction NzCarouselComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var index_r11 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(index_r11 + 1);\n  }\n}\n\nvar _c3 = [\"*\"];\n\nvar NzCarouselContentDirective = /*#__PURE__*/function () {\n  function NzCarouselContentDirective(elementRef, renderer) {\n    _classCallCheck(this, NzCarouselContentDirective);\n\n    this.renderer = renderer;\n    this._active = false;\n    this.el = elementRef.nativeElement;\n    this.renderer.addClass(elementRef.nativeElement, 'slick-slide');\n  }\n\n  _createClass(NzCarouselContentDirective, [{\n    key: \"isActive\",\n    get: function get() {\n      return this._active;\n    },\n    set: function set(value) {\n      this._active = value;\n\n      if (this.isActive) {\n        this.renderer.addClass(this.el, 'slick-active');\n      } else {\n        this.renderer.removeClass(this.el, 'slick-active');\n      }\n    }\n  }]);\n\n  return NzCarouselContentDirective;\n}();\n\nNzCarouselContentDirective.ɵfac = function NzCarouselContentDirective_Factory(t) {\n  return new (t || NzCarouselContentDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nNzCarouselContentDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: NzCarouselContentDirective,\n  selectors: [[\"\", \"nz-carousel-content\", \"\"]],\n  exportAs: [\"nzCarouselContent\"]\n});\n\nNzCarouselContentDirective.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }];\n};\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselBaseStrategy = /*#__PURE__*/function () {\n  function NzCarouselBaseStrategy(carouselComponent, cdr, renderer, platform, options) {\n    _classCallCheck(this, NzCarouselBaseStrategy);\n\n    this.cdr = cdr;\n    this.renderer = renderer;\n    this.platform = platform;\n    this.options = options;\n    this.carouselComponent = carouselComponent;\n  }\n\n  _createClass(NzCarouselBaseStrategy, [{\n    key: \"maxIndex\",\n    get: function get() {\n      return this.length - 1;\n    }\n  }, {\n    key: \"firstEl\",\n    get: function get() {\n      return this.contents[0].el;\n    }\n  }, {\n    key: \"lastEl\",\n    get: function get() {\n      return this.contents[this.maxIndex].el;\n    }\n    /**\n     * Initialize dragging sequences.\n     * @param contents\n     */\n\n  }, {\n    key: \"withCarouselContents\",\n    value: function withCarouselContents(contents) {\n      var _this = this;\n\n      var carousel = this.carouselComponent;\n      this.slickListEl = carousel.slickListEl;\n      this.slickTrackEl = carousel.slickTrackEl;\n      this.contents = (contents === null || contents === void 0 ? void 0 : contents.toArray()) || [];\n      this.length = this.contents.length;\n\n      if (this.platform.isBrowser) {\n        var rect = carousel.el.getBoundingClientRect();\n        this.unitWidth = rect.width;\n        this.unitHeight = rect.height;\n      } else {\n        // Since we cannot call getBoundingClientRect in server, we just hide all items except for the first one.\n        contents === null || contents === void 0 ? void 0 : contents.forEach(function (content, index) {\n          if (index === 0) {\n            _this.renderer.setStyle(content.el, 'width', '100%');\n          } else {\n            _this.renderer.setStyle(content.el, 'display', 'none');\n          }\n        });\n      }\n    }\n    /**\n     * When user drag the carousel component.\n     * @optional\n     */\n\n  }, {\n    key: \"dragging\",\n    value: function dragging(_vector) {}\n    /**\n     * Destroy a scroll strategy.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {}\n  }, {\n    key: \"getFromToInBoundary\",\n    value: function getFromToInBoundary(f, t) {\n      var length = this.maxIndex + 1;\n      return {\n        from: (f + length) % length,\n        to: (t + length) % length\n      };\n    }\n  }]);\n\n  return NzCarouselBaseStrategy;\n}();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselOpacityStrategy = /*#__PURE__*/function (_NzCarouselBaseStrate) {\n  _inherits(NzCarouselOpacityStrategy, _NzCarouselBaseStrate);\n\n  var _super = _createSuper(NzCarouselOpacityStrategy);\n\n  function NzCarouselOpacityStrategy() {\n    _classCallCheck(this, NzCarouselOpacityStrategy);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(NzCarouselOpacityStrategy, [{\n    key: \"withCarouselContents\",\n    value: function withCarouselContents(contents) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(NzCarouselOpacityStrategy.prototype), \"withCarouselContents\", this).call(this, contents);\n\n      if (this.contents) {\n        this.slickTrackEl.style.width = \"\".concat(this.length * this.unitWidth, \"px\");\n        this.contents.forEach(function (content, i) {\n          _this2.renderer.setStyle(content.el, 'opacity', _this2.carouselComponent.activeIndex === i ? '1' : '0');\n\n          _this2.renderer.setStyle(content.el, 'position', 'relative');\n\n          _this2.renderer.setStyle(content.el, 'width', \"\".concat(_this2.unitWidth, \"px\"));\n\n          _this2.renderer.setStyle(content.el, 'left', \"\".concat(-_this2.unitWidth * i, \"px\"));\n\n          _this2.renderer.setStyle(content.el, 'transition', ['opacity 500ms ease 0s', 'visibility 500ms ease 0s']);\n        });\n      }\n    }\n  }, {\n    key: \"switch\",\n    value: function _switch(_f, _t) {\n      var _this3 = this;\n\n      var _this$getFromToInBoun = this.getFromToInBoundary(_f, _t),\n          t = _this$getFromToInBoun.to;\n\n      var complete$ = new Subject();\n      this.contents.forEach(function (content, i) {\n        _this3.renderer.setStyle(content.el, 'opacity', t === i ? '1' : '0');\n      });\n      setTimeout(function () {\n        complete$.next();\n        complete$.complete();\n      }, this.carouselComponent.nzTransitionSpeed);\n      return complete$;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n\n      this.contents.forEach(function (content) {\n        _this4.renderer.setStyle(content.el, 'transition', null);\n      });\n\n      _get(_getPrototypeOf(NzCarouselOpacityStrategy.prototype), \"dispose\", this).call(this);\n    }\n  }]);\n\n  return NzCarouselOpacityStrategy;\n}(NzCarouselBaseStrategy);\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselTransformStrategy = /*#__PURE__*/function (_NzCarouselBaseStrate2) {\n  _inherits(NzCarouselTransformStrategy, _NzCarouselBaseStrate2);\n\n  var _super2 = _createSuper(NzCarouselTransformStrategy);\n\n  function NzCarouselTransformStrategy(carouselComponent, cdr, renderer, platform, options) {\n    var _this5;\n\n    _classCallCheck(this, NzCarouselTransformStrategy);\n\n    _this5 = _super2.call(this, carouselComponent, cdr, renderer, platform, options);\n    _this5.isDragging = false;\n    _this5.isTransitioning = false;\n    return _this5;\n  }\n\n  _createClass(NzCarouselTransformStrategy, [{\n    key: \"vertical\",\n    get: function get() {\n      return this.carouselComponent.vertical;\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      _get(_getPrototypeOf(NzCarouselTransformStrategy.prototype), \"dispose\", this).call(this);\n\n      this.renderer.setStyle(this.slickTrackEl, 'transform', null);\n    }\n  }, {\n    key: \"withCarouselContents\",\n    value: function withCarouselContents(contents) {\n      var _this6 = this;\n\n      _get(_getPrototypeOf(NzCarouselTransformStrategy.prototype), \"withCarouselContents\", this).call(this, contents);\n\n      var carousel = this.carouselComponent;\n      var activeIndex = carousel.activeIndex; // We only do when we are in browser.\n\n      if (this.platform.isBrowser && this.contents.length) {\n        this.renderer.setStyle(this.slickListEl, 'height', \"\".concat(this.unitHeight, \"px\"));\n\n        if (this.vertical) {\n          this.renderer.setStyle(this.slickTrackEl, 'width', \"\".concat(this.unitWidth, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'height', \"\".concat(this.length * this.unitHeight, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-activeIndex * this.unitHeight, \"px, 0)\"));\n        } else {\n          this.renderer.setStyle(this.slickTrackEl, 'height', \"\".concat(this.unitHeight, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'width', \"\".concat(this.length * this.unitWidth, \"px\"));\n          this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-activeIndex * this.unitWidth, \"px, 0, 0)\"));\n        }\n\n        this.contents.forEach(function (content) {\n          _this6.renderer.setStyle(content.el, 'position', 'relative');\n\n          _this6.renderer.setStyle(content.el, 'width', \"\".concat(_this6.unitWidth, \"px\"));\n\n          _this6.renderer.setStyle(content.el, 'height', \"\".concat(_this6.unitHeight, \"px\"));\n        });\n      }\n    }\n  }, {\n    key: \"switch\",\n    value: function _switch(_f, _t) {\n      var _this7 = this;\n\n      var _this$getFromToInBoun2 = this.getFromToInBoundary(_f, _t),\n          t = _this$getFromToInBoun2.to;\n\n      var complete$ = new Subject();\n      this.renderer.setStyle(this.slickTrackEl, 'transition', \"transform \".concat(this.carouselComponent.nzTransitionSpeed, \"ms ease\"));\n\n      if (this.vertical) {\n        this.verticalTransform(_f, _t);\n      } else {\n        this.horizontalTransform(_f, _t);\n      }\n\n      this.isTransitioning = true;\n      this.isDragging = false;\n      setTimeout(function () {\n        _this7.renderer.setStyle(_this7.slickTrackEl, 'transition', null);\n\n        _this7.contents.forEach(function (content) {\n          _this7.renderer.setStyle(content.el, _this7.vertical ? 'top' : 'left', null);\n        });\n\n        if (_this7.vertical) {\n          _this7.renderer.setStyle(_this7.slickTrackEl, 'transform', \"translate3d(0, \".concat(-t * _this7.unitHeight, \"px, 0)\"));\n        } else {\n          _this7.renderer.setStyle(_this7.slickTrackEl, 'transform', \"translate3d(\".concat(-t * _this7.unitWidth, \"px, 0, 0)\"));\n        }\n\n        _this7.isTransitioning = false;\n        complete$.next();\n        complete$.complete();\n      }, this.carouselComponent.nzTransitionSpeed);\n      return complete$.asObservable();\n    }\n  }, {\n    key: \"dragging\",\n    value: function dragging(_vector) {\n      if (this.isTransitioning) {\n        return;\n      }\n\n      var activeIndex = this.carouselComponent.activeIndex;\n\n      if (this.carouselComponent.vertical) {\n        if (!this.isDragging && this.length > 2) {\n          if (activeIndex === this.maxIndex) {\n            this.prepareVerticalContext(true);\n          } else if (activeIndex === 0) {\n            this.prepareVerticalContext(false);\n          }\n        }\n\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-activeIndex * this.unitHeight + _vector.x, \"px, 0)\"));\n      } else {\n        if (!this.isDragging && this.length > 2) {\n          if (activeIndex === this.maxIndex) {\n            this.prepareHorizontalContext(true);\n          } else if (activeIndex === 0) {\n            this.prepareHorizontalContext(false);\n          }\n        }\n\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-activeIndex * this.unitWidth + _vector.x, \"px, 0, 0)\"));\n      }\n\n      this.isDragging = true;\n    }\n  }, {\n    key: \"verticalTransform\",\n    value: function verticalTransform(_f, _t) {\n      var _this$getFromToInBoun3 = this.getFromToInBoundary(_f, _t),\n          f = _this$getFromToInBoun3.from,\n          t = _this$getFromToInBoun3.to;\n\n      var needToAdjust = this.length > 2 && _t !== t;\n\n      if (needToAdjust) {\n        this.prepareVerticalContext(t < f);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-_t * this.unitHeight, \"px, 0)\"));\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(0, \".concat(-t * this.unitHeight, \"px, 0\"));\n      }\n    }\n  }, {\n    key: \"horizontalTransform\",\n    value: function horizontalTransform(_f, _t) {\n      var _this$getFromToInBoun4 = this.getFromToInBoundary(_f, _t),\n          f = _this$getFromToInBoun4.from,\n          t = _this$getFromToInBoun4.to;\n\n      var needToAdjust = this.length > 2 && _t !== t;\n\n      if (needToAdjust) {\n        this.prepareHorizontalContext(t < f);\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-_t * this.unitWidth, \"px, 0, 0)\"));\n      } else {\n        this.renderer.setStyle(this.slickTrackEl, 'transform', \"translate3d(\".concat(-t * this.unitWidth, \"px, 0, 0\"));\n      }\n    }\n  }, {\n    key: \"prepareVerticalContext\",\n    value: function prepareVerticalContext(lastToFirst) {\n      if (lastToFirst) {\n        this.renderer.setStyle(this.firstEl, 'top', \"\".concat(this.length * this.unitHeight, \"px\"));\n        this.renderer.setStyle(this.lastEl, 'top', null);\n      } else {\n        this.renderer.setStyle(this.firstEl, 'top', null);\n        this.renderer.setStyle(this.lastEl, 'top', \"\".concat(-this.unitHeight * this.length, \"px\"));\n      }\n    }\n  }, {\n    key: \"prepareHorizontalContext\",\n    value: function prepareHorizontalContext(lastToFirst) {\n      if (lastToFirst) {\n        this.renderer.setStyle(this.firstEl, 'left', \"\".concat(this.length * this.unitWidth, \"px\"));\n        this.renderer.setStyle(this.lastEl, 'left', null);\n      } else {\n        this.renderer.setStyle(this.firstEl, 'left', null);\n        this.renderer.setStyle(this.lastEl, 'left', \"\".concat(-this.unitWidth * this.length, \"px\"));\n      }\n    }\n  }]);\n\n  return NzCarouselTransformStrategy;\n}(NzCarouselBaseStrategy);\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NZ_CAROUSEL_CUSTOM_STRATEGIES = new InjectionToken('nz-carousel-custom-strategies');\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nvar NZ_CONFIG_MODULE_NAME = 'carousel';\n\nvar NzCarouselComponent = /*#__PURE__*/function () {\n  function NzCarouselComponent(elementRef, nzConfigService, renderer, cdr, platform, resizeService, nzDragService, directionality, customStrategies) {\n    var _this8 = this;\n\n    _classCallCheck(this, NzCarouselComponent);\n\n    this.nzConfigService = nzConfigService;\n    this.renderer = renderer;\n    this.cdr = cdr;\n    this.platform = platform;\n    this.resizeService = resizeService;\n    this.nzDragService = nzDragService;\n    this.directionality = directionality;\n    this.customStrategies = customStrategies;\n    this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n    this.nzEffect = 'scrollx';\n    this.nzEnableSwipe = true;\n    this.nzDots = true;\n    this.nzAutoPlay = false;\n    this.nzAutoPlaySpeed = 3000;\n    this.nzTransitionSpeed = 500;\n    /**\n     * this property is passed directly to an NzCarouselBaseStrategy\n     */\n\n    this.nzStrategyOptions = undefined;\n    this._dotPosition = 'bottom';\n    this.nzBeforeChange = new EventEmitter();\n    this.nzAfterChange = new EventEmitter();\n    this.activeIndex = 0;\n    this.vertical = false;\n    this.transitionInProgress = null;\n    this.dir = 'ltr';\n    this.destroy$ = new Subject();\n    this.gestureRect = null;\n    this.pointerDelta = null;\n    this.isTransiting = false;\n    this.isDragging = false;\n\n    this.onLiClick = function (index) {\n      if (_this8.dir === 'rtl') {\n        _this8.goTo(_this8.carouselContents.length - 1 - index);\n      } else {\n        _this8.goTo(index);\n      }\n    };\n    /**\n     * Drag carousel.\n     */\n\n\n    this.pointerDown = function (event) {\n      if (!_this8.isDragging && !_this8.isTransiting && _this8.nzEnableSwipe) {\n        _this8.clearScheduledTransition();\n\n        _this8.gestureRect = _this8.slickListEl.getBoundingClientRect();\n\n        _this8.nzDragService.requestDraggingSequence(event).subscribe(function (delta) {\n          var _a;\n\n          _this8.pointerDelta = delta;\n          _this8.isDragging = true;\n          (_a = _this8.strategy) === null || _a === void 0 ? void 0 : _a.dragging(_this8.pointerDelta);\n        }, function () {}, function () {\n          if (_this8.nzEnableSwipe && _this8.isDragging) {\n            var xDelta = _this8.pointerDelta ? _this8.pointerDelta.x : 0; // Switch to another slide if delta is bigger than third of the width.\n\n            if (Math.abs(xDelta) > _this8.gestureRect.width / 3) {\n              _this8.goTo(xDelta > 0 ? _this8.activeIndex - 1 : _this8.activeIndex + 1);\n            } else {\n              _this8.goTo(_this8.activeIndex);\n            }\n\n            _this8.gestureRect = null;\n            _this8.pointerDelta = null;\n          }\n\n          _this8.isDragging = false;\n        });\n      }\n    };\n\n    this.nzDotPosition = 'bottom';\n    this.renderer.addClass(elementRef.nativeElement, 'ant-carousel');\n    this.el = elementRef.nativeElement;\n  }\n\n  _createClass(NzCarouselComponent, [{\n    key: \"nzDotPosition\",\n    get: function get() {\n      return this._dotPosition;\n    },\n    set: function set(value) {\n      this._dotPosition = value;\n\n      if (value === 'left' || value === 'right') {\n        this.vertical = true;\n      } else {\n        this.vertical = false;\n      }\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this9 = this;\n\n      var _a;\n\n      this.dir = this.directionality.value;\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(function (direction) {\n        _this9.dir = direction;\n\n        _this9.markContentActive(_this9.activeIndex);\n\n        _this9.cdr.detectChanges();\n      });\n    }\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      this.markContentActive(0);\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      var _this10 = this;\n\n      this.slickListEl = this.slickList.nativeElement;\n      this.slickTrackEl = this.slickTrack.nativeElement;\n      this.carouselContents.changes.pipe(takeUntil(this.destroy$)).subscribe(function () {\n        _this10.markContentActive(0);\n\n        _this10.layout();\n      });\n      this.resizeService.subscribe().pipe(takeUntil(this.destroy$)).subscribe(function () {\n        _this10.layout();\n      });\n      this.switchStrategy();\n      this.markContentActive(0);\n      this.layout(); // If embedded in an entry component, it may do initial render at an inappropriate time.\n      // ngZone.onStable won't do this trick\n      // TODO: need to change this.\n\n      Promise.resolve().then(function () {\n        _this10.layout();\n      });\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var nzEffect = changes.nzEffect,\n          nzDotPosition = changes.nzDotPosition;\n\n      if (nzEffect && !nzEffect.isFirstChange()) {\n        this.switchStrategy();\n        this.markContentActive(0);\n        this.layout();\n      }\n\n      if (nzDotPosition && !nzDotPosition.isFirstChange()) {\n        this.switchStrategy();\n        this.markContentActive(0);\n        this.layout();\n      }\n\n      if (!this.nzAutoPlay || !this.nzAutoPlaySpeed) {\n        this.clearScheduledTransition();\n      } else {\n        this.scheduleNextTransition();\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.clearScheduledTransition();\n\n      if (this.strategy) {\n        this.strategy.dispose();\n      }\n\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (e.keyCode === LEFT_ARROW) {\n        e.preventDefault();\n        this.pre();\n      } else if (e.keyCode === RIGHT_ARROW) {\n        this.next();\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.goTo(this.activeIndex + 1);\n    }\n  }, {\n    key: \"pre\",\n    value: function pre() {\n      this.goTo(this.activeIndex - 1);\n    }\n  }, {\n    key: \"goTo\",\n    value: function goTo(index) {\n      var _this11 = this;\n\n      if (this.carouselContents && this.carouselContents.length && !this.isTransiting) {\n        var length = this.carouselContents.length;\n        var from = this.activeIndex;\n        var to = (index + length) % length;\n        this.isTransiting = true;\n        this.nzBeforeChange.emit({\n          from: from,\n          to: to\n        });\n        this.strategy.switch(this.activeIndex, index).subscribe(function () {\n          _this11.scheduleNextTransition();\n\n          _this11.nzAfterChange.emit(index);\n\n          _this11.isTransiting = false;\n        });\n        this.markContentActive(to);\n        this.cdr.markForCheck();\n      }\n    }\n  }, {\n    key: \"switchStrategy\",\n    value: function switchStrategy() {\n      var _this12 = this;\n\n      if (this.strategy) {\n        this.strategy.dispose();\n      } // Load custom strategies first.\n\n\n      var customStrategy = this.customStrategies ? this.customStrategies.find(function (s) {\n        return s.name === _this12.nzEffect;\n      }) : null;\n\n      if (customStrategy) {\n        this.strategy = new customStrategy.strategy(this, this.cdr, this.renderer, this.platform);\n        return;\n      }\n\n      this.strategy = this.nzEffect === 'scrollx' ? new NzCarouselTransformStrategy(this, this.cdr, this.renderer, this.platform) : new NzCarouselOpacityStrategy(this, this.cdr, this.renderer, this.platform);\n    }\n  }, {\n    key: \"scheduleNextTransition\",\n    value: function scheduleNextTransition() {\n      var _this13 = this;\n\n      this.clearScheduledTransition();\n\n      if (this.nzAutoPlay && this.nzAutoPlaySpeed > 0 && this.platform.isBrowser) {\n        this.transitionInProgress = setTimeout(function () {\n          _this13.goTo(_this13.activeIndex + 1);\n        }, this.nzAutoPlaySpeed);\n      }\n    }\n  }, {\n    key: \"clearScheduledTransition\",\n    value: function clearScheduledTransition() {\n      if (this.transitionInProgress) {\n        clearTimeout(this.transitionInProgress);\n        this.transitionInProgress = null;\n      }\n    }\n  }, {\n    key: \"markContentActive\",\n    value: function markContentActive(index) {\n      var _this14 = this;\n\n      this.activeIndex = index;\n\n      if (this.carouselContents) {\n        this.carouselContents.forEach(function (slide, i) {\n          if (_this14.dir === 'rtl') {\n            slide.isActive = index === _this14.carouselContents.length - 1 - i;\n          } else {\n            slide.isActive = index === i;\n          }\n        });\n      }\n\n      this.cdr.markForCheck();\n    }\n  }, {\n    key: \"layout\",\n    value: function layout() {\n      if (this.strategy) {\n        this.strategy.withCarouselContents(this.carouselContents);\n      }\n    }\n  }]);\n\n  return NzCarouselComponent;\n}();\n\nNzCarouselComponent.ɵfac = function NzCarouselComponent_Factory(t) {\n  return new (t || NzCarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzResizeService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzDragService), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(NZ_CAROUSEL_CUSTOM_STRATEGIES, 8));\n};\n\nNzCarouselComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: NzCarouselComponent,\n  selectors: [[\"nz-carousel\"]],\n  contentQueries: function NzCarouselComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, NzCarouselContentDirective, 4);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.carouselContents = _t);\n    }\n  },\n  viewQuery: function NzCarouselComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n      ɵngcc0.ɵɵviewQuery(_c1, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickList = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickTrack = _t.first);\n    }\n  },\n  hostVars: 4,\n  hostBindings: function NzCarouselComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-carousel-vertical\", ctx.vertical)(\"ant-carousel-rtl\", ctx.dir === \"rtl\");\n    }\n  },\n  inputs: {\n    nzEffect: \"nzEffect\",\n    nzEnableSwipe: \"nzEnableSwipe\",\n    nzDots: \"nzDots\",\n    nzAutoPlay: \"nzAutoPlay\",\n    nzAutoPlaySpeed: \"nzAutoPlaySpeed\",\n    nzTransitionSpeed: \"nzTransitionSpeed\",\n    nzStrategyOptions: \"nzStrategyOptions\",\n    nzDotPosition: \"nzDotPosition\",\n    nzDotRender: \"nzDotRender\"\n  },\n  outputs: {\n    nzBeforeChange: \"nzBeforeChange\",\n    nzAfterChange: \"nzAfterChange\"\n  },\n  exportAs: [\"nzCarousel\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c3,\n  decls: 9,\n  vars: 3,\n  consts: [[1, \"slick-initialized\", \"slick-slider\"], [\"tabindex\", \"-1\", 1, \"slick-list\", 3, \"keydown\", \"mousedown\", \"touchstart\"], [\"slickList\", \"\"], [1, \"slick-track\"], [\"slickTrack\", \"\"], [\"class\", \"slick-dots\", 3, \"slick-dots-top\", \"slick-dots-bottom\", \"slick-dots-left\", \"slick-dots-right\", 4, \"ngIf\"], [\"renderDotTemplate\", \"\"], [1, \"slick-dots\"], [3, \"slick-active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]],\n  template: function NzCarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1, 2);\n      ɵngcc0.ɵɵlistener(\"keydown\", function NzCarouselComponent_Template_div_keydown_1_listener($event) {\n        return ctx.onKeyDown($event);\n      })(\"mousedown\", function NzCarouselComponent_Template_div_mousedown_1_listener($event) {\n        return ctx.pointerDown($event);\n      })(\"touchstart\", function NzCarouselComponent_Template_div_touchstart_1_listener($event) {\n        return ctx.pointerDown($event);\n      });\n      ɵngcc0.ɵɵelementStart(3, \"div\", 3, 4);\n      ɵngcc0.ɵɵprojection(5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(6, NzCarouselComponent_ul_6_Template, 2, 9, \"ul\", 5);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, NzCarouselComponent_ng_template_7_Template, 2, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"slick-vertical\", ctx.nzDotPosition === \"left\" || ctx.nzDotPosition === \"right\");\n      ɵngcc0.ɵɵadvance(6);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzDots);\n    }\n  },\n  directives: [ɵngcc5.NgIf, ɵngcc5.NgForOf, ɵngcc5.NgTemplateOutlet],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\nNzCarouselComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: NzConfigService\n  }, {\n    type: Renderer2\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: Platform\n  }, {\n    type: NzResizeService\n  }, {\n    type: NzDragService\n  }, {\n    type: Directionality,\n    decorators: [{\n      type: Optional\n    }]\n  }, {\n    type: Array,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [NZ_CAROUSEL_CUSTOM_STRATEGIES]\n    }]\n  }];\n};\n\nNzCarouselComponent.propDecorators = {\n  carouselContents: [{\n    type: ContentChildren,\n    args: [NzCarouselContentDirective]\n  }],\n  slickList: [{\n    type: ViewChild,\n    args: ['slickList', {\n      static: false\n    }]\n  }],\n  slickTrack: [{\n    type: ViewChild,\n    args: ['slickTrack', {\n      static: false\n    }]\n  }],\n  nzDotRender: [{\n    type: Input\n  }],\n  nzEffect: [{\n    type: Input\n  }],\n  nzEnableSwipe: [{\n    type: Input\n  }],\n  nzDots: [{\n    type: Input\n  }],\n  nzAutoPlay: [{\n    type: Input\n  }],\n  nzAutoPlaySpeed: [{\n    type: Input\n  }],\n  nzTransitionSpeed: [{\n    type: Input\n  }],\n  nzStrategyOptions: [{\n    type: Input\n  }],\n  nzDotPosition: [{\n    type: Input\n  }],\n  nzBeforeChange: [{\n    type: Output\n  }],\n  nzAfterChange: [{\n    type: Output\n  }]\n};\n\n__decorate([WithConfig(), __metadata(\"design:type\", String)], NzCarouselComponent.prototype, \"nzEffect\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzEnableSwipe\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzDots\", void 0);\n\n__decorate([WithConfig(), InputBoolean(), __metadata(\"design:type\", Boolean)], NzCarouselComponent.prototype, \"nzAutoPlay\", void 0);\n\n__decorate([WithConfig(), InputNumber(), __metadata(\"design:type\", Number)], NzCarouselComponent.prototype, \"nzAutoPlaySpeed\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzCarouselComponent.prototype, \"nzTransitionSpeed\", void 0);\n\n__decorate([WithConfig(), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [String])], NzCarouselComponent.prototype, \"nzDotPosition\", null);\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselContentDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nz-carousel-content]',\n      exportAs: 'nzCarouselContent'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, null);\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselComponent, [{\n    type: Component,\n    args: [{\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.None,\n      selector: 'nz-carousel',\n      exportAs: 'nzCarousel',\n      preserveWhitespaces: false,\n      template: \"\\n    <div class=\\\"slick-initialized slick-slider\\\" [class.slick-vertical]=\\\"nzDotPosition === 'left' || nzDotPosition === 'right'\\\">\\n      <div\\n        #slickList\\n        class=\\\"slick-list\\\"\\n        tabindex=\\\"-1\\\"\\n        (keydown)=\\\"onKeyDown($event)\\\"\\n        (mousedown)=\\\"pointerDown($event)\\\"\\n        (touchstart)=\\\"pointerDown($event)\\\"\\n      >\\n        <!-- Render carousel items. -->\\n        <div class=\\\"slick-track\\\" #slickTrack>\\n          <ng-content></ng-content>\\n        </div>\\n      </div>\\n      <!-- Render dots. -->\\n      <ul\\n        class=\\\"slick-dots\\\"\\n        *ngIf=\\\"nzDots\\\"\\n        [class.slick-dots-top]=\\\"nzDotPosition === 'top'\\\"\\n        [class.slick-dots-bottom]=\\\"nzDotPosition === 'bottom'\\\"\\n        [class.slick-dots-left]=\\\"nzDotPosition === 'left'\\\"\\n        [class.slick-dots-right]=\\\"nzDotPosition === 'right'\\\"\\n      >\\n        <li *ngFor=\\\"let content of carouselContents; let i = index\\\" [class.slick-active]=\\\"content.isActive\\\" (click)=\\\"onLiClick(i)\\\">\\n          <ng-template [ngTemplateOutlet]=\\\"nzDotRender || renderDotTemplate\\\" [ngTemplateOutletContext]=\\\"{ $implicit: i }\\\"></ng-template>\\n        </li>\\n      </ul>\\n    </div>\\n\\n    <ng-template #renderDotTemplate let-index>\\n      <button>{{ index + 1 }}</button>\\n    </ng-template>\\n  \",\n      host: {\n        '[class.ant-carousel-vertical]': 'vertical',\n        '[class.ant-carousel-rtl]': \"dir ==='rtl'\"\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.NzConfigService\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc2.Platform\n    }, {\n      type: ɵngcc3.NzResizeService\n    }, {\n      type: ɵngcc3.NzDragService\n    }, {\n      type: ɵngcc4.Directionality,\n      decorators: [{\n        type: Optional\n      }]\n    }, {\n      type: Array,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [NZ_CAROUSEL_CUSTOM_STRATEGIES]\n      }]\n    }];\n  }, {\n    nzEffect: [{\n      type: Input\n    }],\n    nzEnableSwipe: [{\n      type: Input\n    }],\n    nzDots: [{\n      type: Input\n    }],\n    nzAutoPlay: [{\n      type: Input\n    }],\n    nzAutoPlaySpeed: [{\n      type: Input\n    }],\n    nzTransitionSpeed: [{\n      type: Input\n    }],\n    nzStrategyOptions: [{\n      type: Input\n    }],\n    nzBeforeChange: [{\n      type: Output\n    }],\n    nzAfterChange: [{\n      type: Output\n    }],\n    nzDotPosition: [{\n      type: Input\n    }],\n    carouselContents: [{\n      type: ContentChildren,\n      args: [NzCarouselContentDirective]\n    }],\n    slickList: [{\n      type: ViewChild,\n      args: ['slickList', {\n        static: false\n      }]\n    }],\n    slickTrack: [{\n      type: ViewChild,\n      args: ['slickTrack', {\n        static: false\n      }]\n    }],\n    nzDotRender: [{\n      type: Input\n    }]\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar NzCarouselModule = function NzCarouselModule() {\n  _classCallCheck(this, NzCarouselModule);\n};\n\nNzCarouselModule.ɵfac = function NzCarouselModule_Factory(t) {\n  return new (t || NzCarouselModule)();\n};\n\nNzCarouselModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: NzCarouselModule\n});\nNzCarouselModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  imports: [[BidiModule, CommonModule, PlatformModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NzCarouselComponent, NzCarouselContentDirective],\n      exports: [NzCarouselComponent, NzCarouselContentDirective],\n      imports: [BidiModule, CommonModule, PlatformModule]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzCarouselModule, {\n    declarations: function declarations() {\n      return [NzCarouselComponent, NzCarouselContentDirective];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, PlatformModule];\n    },\n    exports: function exports() {\n      return [NzCarouselComponent, NzCarouselContentDirective];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NZ_CAROUSEL_CUSTOM_STRATEGIES, NzCarouselBaseStrategy, NzCarouselComponent, NzCarouselContentDirective, NzCarouselModule }; //# sourceMappingURL=ng-zorro-antd-carousel.js.map","map":{"version":3,"sources":["/Users/mac/WebstormProjects/github-page/node_modules/ng-zorro-antd/__ivy_ngcc__/fesm2015/ng-zorro-antd-carousel.js"],"names":["Directionality","BidiModule","Platform","PlatformModule","CommonModule","Directive","ElementRef","Renderer2","InjectionToken","EventEmitter","Component","ChangeDetectionStrategy","ViewEncapsulation","ChangeDetectorRef","Optional","Inject","ContentChildren","ViewChild","Input","Output","NgModule","__decorate","__metadata","LEFT_ARROW","RIGHT_ARROW","NzConfigService","WithConfig","NzResizeService","NzDragService","InputBoolean","InputNumber","Subject","takeUntil","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","ɵngcc5","_c0","_c1","NzCarouselComponent_ul_6_li_1_ng_template_1_Template","rf","ctx","_c2","a0","$implicit","NzCarouselComponent_ul_6_li_1_Template","_r10","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","NzCarouselComponent_ul_6_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","i_r7","index","ctx_r9","ɵɵnextContext","onLiClick","ɵɵtemplate","ɵɵelementEnd","content_r6","ctx_r5","_r3","ɵɵreference","ɵɵclassProp","isActive","ɵɵadvance","ɵɵproperty","nzDotRender","ɵɵpureFunction1","NzCarouselComponent_ul_6_Template","ctx_r2","nzDotPosition","carouselContents","NzCarouselComponent_ng_template_7_Template","ɵɵtext","index_r11","ɵɵtextInterpolate","_c3","NzCarouselContentDirective","elementRef","renderer","_active","el","nativeElement","addClass","value","removeClass","ɵfac","NzCarouselContentDirective_Factory","t","ɵɵdirectiveInject","ɵdir","ɵɵdefineDirective","type","selectors","exportAs","ctorParameters","NzCarouselBaseStrategy","carouselComponent","cdr","platform","options","length","contents","maxIndex","carousel","slickListEl","slickTrackEl","toArray","isBrowser","rect","getBoundingClientRect","unitWidth","width","unitHeight","height","forEach","content","setStyle","_vector","f","from","to","NzCarouselOpacityStrategy","style","i","activeIndex","_f","_t","getFromToInBoundary","complete$","setTimeout","next","complete","nzTransitionSpeed","NzCarouselTransformStrategy","isDragging","isTransitioning","vertical","verticalTransform","horizontalTransform","asObservable","prepareVerticalContext","x","prepareHorizontalContext","needToAdjust","lastToFirst","firstEl","lastEl","NZ_CAROUSEL_CUSTOM_STRATEGIES","NZ_CONFIG_MODULE_NAME","NzCarouselComponent","nzConfigService","resizeService","nzDragService","directionality","customStrategies","_nzModuleName","nzEffect","nzEnableSwipe","nzDots","nzAutoPlay","nzAutoPlaySpeed","nzStrategyOptions","undefined","_dotPosition","nzBeforeChange","nzAfterChange","transitionInProgress","dir","destroy$","gestureRect","pointerDelta","isTransiting","goTo","pointerDown","event","clearScheduledTransition","requestDraggingSequence","subscribe","delta","_a","strategy","dragging","xDelta","Math","abs","change","pipe","direction","markContentActive","detectChanges","slickList","slickTrack","changes","layout","switchStrategy","Promise","resolve","then","isFirstChange","scheduleNextTransition","dispose","e","keyCode","preventDefault","pre","emit","switch","markForCheck","customStrategy","find","s","name","clearTimeout","slide","withCarouselContents","NzCarouselComponent_Factory","ɵcmp","ɵɵdefineComponent","contentQueries","NzCarouselComponent_ContentQueries","dirIndex","ɵɵcontentQuery","ɵɵqueryRefresh","ɵɵloadQuery","viewQuery","NzCarouselComponent_Query","ɵɵviewQuery","first","hostVars","hostBindings","NzCarouselComponent_HostBindings","inputs","outputs","features","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","NzCarouselComponent_Template","ɵɵprojectionDef","NzCarouselComponent_Template_div_keydown_1_listener","$event","onKeyDown","NzCarouselComponent_Template_div_mousedown_1_listener","NzCarouselComponent_Template_div_touchstart_1_listener","ɵɵprojection","ɵɵtemplateRefExtractor","directives","NgIf","NgForOf","NgTemplateOutlet","encapsulation","changeDetection","decorators","Array","args","propDecorators","static","String","prototype","Boolean","Number","Object","ngDevMode","ɵsetClassMetadata","selector","OnPush","None","preserveWhitespaces","host","NzCarouselModule","NzCarouselModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"mappings":"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","sourcesContent":["import { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { Directive, ElementRef, Renderer2, InjectionToken, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ChangeDetectorRef, Optional, Inject, ContentChildren, ViewChild, Input, Output, NgModule } from '@angular/core';\nimport { __decorate, __metadata } from 'tslib';\nimport { LEFT_ARROW, RIGHT_ARROW } from '@angular/cdk/keycodes';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzResizeService, NzDragService } from 'ng-zorro-antd/core/services';\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core/util';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/core/services';\nimport * as ɵngcc4 from '@angular/cdk/bidi';\nimport * as ɵngcc5 from '@angular/common';\n\nconst _c0 = [\"slickList\"];\nconst _c1 = [\"slickTrack\"];\nfunction NzCarouselComponent_ul_6_li_1_ng_template_1_Template(rf, ctx) { }\nconst _c2 = function (a0) { return { $implicit: a0 }; };\nfunction NzCarouselComponent_ul_6_li_1_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"li\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function NzCarouselComponent_ul_6_li_1_Template_li_click_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r10); const i_r7 = restoredCtx.index; const ctx_r9 = ɵngcc0.ɵɵnextContext(2); return ctx_r9.onLiClick(i_r7); });\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_ng_template_1_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const content_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    const ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    const _r3 = ɵngcc0.ɵɵreference(8);\n    ɵngcc0.ɵɵclassProp(\"slick-active\", content_r6.isActive);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.nzDotRender || _r3)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c2, i_r7));\n} }\nfunction NzCarouselComponent_ul_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"ul\", 7);\n    ɵngcc0.ɵɵtemplate(1, NzCarouselComponent_ul_6_li_1_Template, 2, 6, \"li\", 8);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"slick-dots-top\", ctx_r2.nzDotPosition === \"top\")(\"slick-dots-bottom\", ctx_r2.nzDotPosition === \"bottom\")(\"slick-dots-left\", ctx_r2.nzDotPosition === \"left\")(\"slick-dots-right\", ctx_r2.nzDotPosition === \"right\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r2.carouselContents);\n} }\nfunction NzCarouselComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"button\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const index_r11 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(index_r11 + 1);\n} }\nconst _c3 = [\"*\"];\nclass NzCarouselContentDirective {\n    constructor(elementRef, renderer) {\n        this.renderer = renderer;\n        this._active = false;\n        this.el = elementRef.nativeElement;\n        this.renderer.addClass(elementRef.nativeElement, 'slick-slide');\n    }\n    set isActive(value) {\n        this._active = value;\n        if (this.isActive) {\n            this.renderer.addClass(this.el, 'slick-active');\n        }\n        else {\n            this.renderer.removeClass(this.el, 'slick-active');\n        }\n    }\n    get isActive() {\n        return this._active;\n    }\n}\nNzCarouselContentDirective.ɵfac = function NzCarouselContentDirective_Factory(t) { return new (t || NzCarouselContentDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nNzCarouselContentDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NzCarouselContentDirective, selectors: [[\"\", \"nz-carousel-content\", \"\"]], exportAs: [\"nzCarouselContent\"] });\nNzCarouselContentDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 }\n];\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzCarouselBaseStrategy {\n    constructor(carouselComponent, cdr, renderer, platform, options) {\n        this.cdr = cdr;\n        this.renderer = renderer;\n        this.platform = platform;\n        this.options = options;\n        this.carouselComponent = carouselComponent;\n    }\n    get maxIndex() {\n        return this.length - 1;\n    }\n    get firstEl() {\n        return this.contents[0].el;\n    }\n    get lastEl() {\n        return this.contents[this.maxIndex].el;\n    }\n    /**\n     * Initialize dragging sequences.\n     * @param contents\n     */\n    withCarouselContents(contents) {\n        const carousel = this.carouselComponent;\n        this.slickListEl = carousel.slickListEl;\n        this.slickTrackEl = carousel.slickTrackEl;\n        this.contents = (contents === null || contents === void 0 ? void 0 : contents.toArray()) || [];\n        this.length = this.contents.length;\n        if (this.platform.isBrowser) {\n            const rect = carousel.el.getBoundingClientRect();\n            this.unitWidth = rect.width;\n            this.unitHeight = rect.height;\n        }\n        else {\n            // Since we cannot call getBoundingClientRect in server, we just hide all items except for the first one.\n            contents === null || contents === void 0 ? void 0 : contents.forEach((content, index) => {\n                if (index === 0) {\n                    this.renderer.setStyle(content.el, 'width', '100%');\n                }\n                else {\n                    this.renderer.setStyle(content.el, 'display', 'none');\n                }\n            });\n        }\n    }\n    /**\n     * When user drag the carousel component.\n     * @optional\n     */\n    dragging(_vector) { }\n    /**\n     * Destroy a scroll strategy.\n     */\n    dispose() { }\n    getFromToInBoundary(f, t) {\n        const length = this.maxIndex + 1;\n        return { from: (f + length) % length, to: (t + length) % length };\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzCarouselOpacityStrategy extends NzCarouselBaseStrategy {\n    withCarouselContents(contents) {\n        super.withCarouselContents(contents);\n        if (this.contents) {\n            this.slickTrackEl.style.width = `${this.length * this.unitWidth}px`;\n            this.contents.forEach((content, i) => {\n                this.renderer.setStyle(content.el, 'opacity', this.carouselComponent.activeIndex === i ? '1' : '0');\n                this.renderer.setStyle(content.el, 'position', 'relative');\n                this.renderer.setStyle(content.el, 'width', `${this.unitWidth}px`);\n                this.renderer.setStyle(content.el, 'left', `${-this.unitWidth * i}px`);\n                this.renderer.setStyle(content.el, 'transition', ['opacity 500ms ease 0s', 'visibility 500ms ease 0s']);\n            });\n        }\n    }\n    switch(_f, _t) {\n        const { to: t } = this.getFromToInBoundary(_f, _t);\n        const complete$ = new Subject();\n        this.contents.forEach((content, i) => {\n            this.renderer.setStyle(content.el, 'opacity', t === i ? '1' : '0');\n        });\n        setTimeout(() => {\n            complete$.next();\n            complete$.complete();\n        }, this.carouselComponent.nzTransitionSpeed);\n        return complete$;\n    }\n    dispose() {\n        this.contents.forEach((content) => {\n            this.renderer.setStyle(content.el, 'transition', null);\n        });\n        super.dispose();\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzCarouselTransformStrategy extends NzCarouselBaseStrategy {\n    constructor(carouselComponent, cdr, renderer, platform, options) {\n        super(carouselComponent, cdr, renderer, platform, options);\n        this.isDragging = false;\n        this.isTransitioning = false;\n    }\n    get vertical() {\n        return this.carouselComponent.vertical;\n    }\n    dispose() {\n        super.dispose();\n        this.renderer.setStyle(this.slickTrackEl, 'transform', null);\n    }\n    withCarouselContents(contents) {\n        super.withCarouselContents(contents);\n        const carousel = this.carouselComponent;\n        const activeIndex = carousel.activeIndex;\n        // We only do when we are in browser.\n        if (this.platform.isBrowser && this.contents.length) {\n            this.renderer.setStyle(this.slickListEl, 'height', `${this.unitHeight}px`);\n            if (this.vertical) {\n                this.renderer.setStyle(this.slickTrackEl, 'width', `${this.unitWidth}px`);\n                this.renderer.setStyle(this.slickTrackEl, 'height', `${this.length * this.unitHeight}px`);\n                this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-activeIndex * this.unitHeight}px, 0)`);\n            }\n            else {\n                this.renderer.setStyle(this.slickTrackEl, 'height', `${this.unitHeight}px`);\n                this.renderer.setStyle(this.slickTrackEl, 'width', `${this.length * this.unitWidth}px`);\n                this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-activeIndex * this.unitWidth}px, 0, 0)`);\n            }\n            this.contents.forEach((content) => {\n                this.renderer.setStyle(content.el, 'position', 'relative');\n                this.renderer.setStyle(content.el, 'width', `${this.unitWidth}px`);\n                this.renderer.setStyle(content.el, 'height', `${this.unitHeight}px`);\n            });\n        }\n    }\n    switch(_f, _t) {\n        const { to: t } = this.getFromToInBoundary(_f, _t);\n        const complete$ = new Subject();\n        this.renderer.setStyle(this.slickTrackEl, 'transition', `transform ${this.carouselComponent.nzTransitionSpeed}ms ease`);\n        if (this.vertical) {\n            this.verticalTransform(_f, _t);\n        }\n        else {\n            this.horizontalTransform(_f, _t);\n        }\n        this.isTransitioning = true;\n        this.isDragging = false;\n        setTimeout(() => {\n            this.renderer.setStyle(this.slickTrackEl, 'transition', null);\n            this.contents.forEach((content) => {\n                this.renderer.setStyle(content.el, this.vertical ? 'top' : 'left', null);\n            });\n            if (this.vertical) {\n                this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-t * this.unitHeight}px, 0)`);\n            }\n            else {\n                this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-t * this.unitWidth}px, 0, 0)`);\n            }\n            this.isTransitioning = false;\n            complete$.next();\n            complete$.complete();\n        }, this.carouselComponent.nzTransitionSpeed);\n        return complete$.asObservable();\n    }\n    dragging(_vector) {\n        if (this.isTransitioning) {\n            return;\n        }\n        const activeIndex = this.carouselComponent.activeIndex;\n        if (this.carouselComponent.vertical) {\n            if (!this.isDragging && this.length > 2) {\n                if (activeIndex === this.maxIndex) {\n                    this.prepareVerticalContext(true);\n                }\n                else if (activeIndex === 0) {\n                    this.prepareVerticalContext(false);\n                }\n            }\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-activeIndex * this.unitHeight + _vector.x}px, 0)`);\n        }\n        else {\n            if (!this.isDragging && this.length > 2) {\n                if (activeIndex === this.maxIndex) {\n                    this.prepareHorizontalContext(true);\n                }\n                else if (activeIndex === 0) {\n                    this.prepareHorizontalContext(false);\n                }\n            }\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-activeIndex * this.unitWidth + _vector.x}px, 0, 0)`);\n        }\n        this.isDragging = true;\n    }\n    verticalTransform(_f, _t) {\n        const { from: f, to: t } = this.getFromToInBoundary(_f, _t);\n        const needToAdjust = this.length > 2 && _t !== t;\n        if (needToAdjust) {\n            this.prepareVerticalContext(t < f);\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-_t * this.unitHeight}px, 0)`);\n        }\n        else {\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(0, ${-t * this.unitHeight}px, 0`);\n        }\n    }\n    horizontalTransform(_f, _t) {\n        const { from: f, to: t } = this.getFromToInBoundary(_f, _t);\n        const needToAdjust = this.length > 2 && _t !== t;\n        if (needToAdjust) {\n            this.prepareHorizontalContext(t < f);\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-_t * this.unitWidth}px, 0, 0)`);\n        }\n        else {\n            this.renderer.setStyle(this.slickTrackEl, 'transform', `translate3d(${-t * this.unitWidth}px, 0, 0`);\n        }\n    }\n    prepareVerticalContext(lastToFirst) {\n        if (lastToFirst) {\n            this.renderer.setStyle(this.firstEl, 'top', `${this.length * this.unitHeight}px`);\n            this.renderer.setStyle(this.lastEl, 'top', null);\n        }\n        else {\n            this.renderer.setStyle(this.firstEl, 'top', null);\n            this.renderer.setStyle(this.lastEl, 'top', `${-this.unitHeight * this.length}px`);\n        }\n    }\n    prepareHorizontalContext(lastToFirst) {\n        if (lastToFirst) {\n            this.renderer.setStyle(this.firstEl, 'left', `${this.length * this.unitWidth}px`);\n            this.renderer.setStyle(this.lastEl, 'left', null);\n        }\n        else {\n            this.renderer.setStyle(this.firstEl, 'left', null);\n            this.renderer.setStyle(this.lastEl, 'left', `${-this.unitWidth * this.length}px`);\n        }\n    }\n}\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_CAROUSEL_CUSTOM_STRATEGIES = new InjectionToken('nz-carousel-custom-strategies');\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nconst NZ_CONFIG_MODULE_NAME = 'carousel';\nclass NzCarouselComponent {\n    constructor(elementRef, nzConfigService, renderer, cdr, platform, resizeService, nzDragService, directionality, customStrategies) {\n        this.nzConfigService = nzConfigService;\n        this.renderer = renderer;\n        this.cdr = cdr;\n        this.platform = platform;\n        this.resizeService = resizeService;\n        this.nzDragService = nzDragService;\n        this.directionality = directionality;\n        this.customStrategies = customStrategies;\n        this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n        this.nzEffect = 'scrollx';\n        this.nzEnableSwipe = true;\n        this.nzDots = true;\n        this.nzAutoPlay = false;\n        this.nzAutoPlaySpeed = 3000;\n        this.nzTransitionSpeed = 500;\n        /**\n         * this property is passed directly to an NzCarouselBaseStrategy\n         */\n        this.nzStrategyOptions = undefined;\n        this._dotPosition = 'bottom';\n        this.nzBeforeChange = new EventEmitter();\n        this.nzAfterChange = new EventEmitter();\n        this.activeIndex = 0;\n        this.vertical = false;\n        this.transitionInProgress = null;\n        this.dir = 'ltr';\n        this.destroy$ = new Subject();\n        this.gestureRect = null;\n        this.pointerDelta = null;\n        this.isTransiting = false;\n        this.isDragging = false;\n        this.onLiClick = (index) => {\n            if (this.dir === 'rtl') {\n                this.goTo(this.carouselContents.length - 1 - index);\n            }\n            else {\n                this.goTo(index);\n            }\n        };\n        /**\n         * Drag carousel.\n         */\n        this.pointerDown = (event) => {\n            if (!this.isDragging && !this.isTransiting && this.nzEnableSwipe) {\n                this.clearScheduledTransition();\n                this.gestureRect = this.slickListEl.getBoundingClientRect();\n                this.nzDragService.requestDraggingSequence(event).subscribe(delta => {\n                    var _a;\n                    this.pointerDelta = delta;\n                    this.isDragging = true;\n                    (_a = this.strategy) === null || _a === void 0 ? void 0 : _a.dragging(this.pointerDelta);\n                }, () => { }, () => {\n                    if (this.nzEnableSwipe && this.isDragging) {\n                        const xDelta = this.pointerDelta ? this.pointerDelta.x : 0;\n                        // Switch to another slide if delta is bigger than third of the width.\n                        if (Math.abs(xDelta) > this.gestureRect.width / 3) {\n                            this.goTo(xDelta > 0 ? this.activeIndex - 1 : this.activeIndex + 1);\n                        }\n                        else {\n                            this.goTo(this.activeIndex);\n                        }\n                        this.gestureRect = null;\n                        this.pointerDelta = null;\n                    }\n                    this.isDragging = false;\n                });\n            }\n        };\n        this.nzDotPosition = 'bottom';\n        this.renderer.addClass(elementRef.nativeElement, 'ant-carousel');\n        this.el = elementRef.nativeElement;\n    }\n    set nzDotPosition(value) {\n        this._dotPosition = value;\n        if (value === 'left' || value === 'right') {\n            this.vertical = true;\n        }\n        else {\n            this.vertical = false;\n        }\n    }\n    get nzDotPosition() {\n        return this._dotPosition;\n    }\n    ngOnInit() {\n        var _a;\n        this.dir = this.directionality.value;\n        (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe((direction) => {\n            this.dir = direction;\n            this.markContentActive(this.activeIndex);\n            this.cdr.detectChanges();\n        });\n    }\n    ngAfterContentInit() {\n        this.markContentActive(0);\n    }\n    ngAfterViewInit() {\n        this.slickListEl = this.slickList.nativeElement;\n        this.slickTrackEl = this.slickTrack.nativeElement;\n        this.carouselContents.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.markContentActive(0);\n            this.layout();\n        });\n        this.resizeService\n            .subscribe()\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(() => {\n            this.layout();\n        });\n        this.switchStrategy();\n        this.markContentActive(0);\n        this.layout();\n        // If embedded in an entry component, it may do initial render at an inappropriate time.\n        // ngZone.onStable won't do this trick\n        // TODO: need to change this.\n        Promise.resolve().then(() => {\n            this.layout();\n        });\n    }\n    ngOnChanges(changes) {\n        const { nzEffect, nzDotPosition } = changes;\n        if (nzEffect && !nzEffect.isFirstChange()) {\n            this.switchStrategy();\n            this.markContentActive(0);\n            this.layout();\n        }\n        if (nzDotPosition && !nzDotPosition.isFirstChange()) {\n            this.switchStrategy();\n            this.markContentActive(0);\n            this.layout();\n        }\n        if (!this.nzAutoPlay || !this.nzAutoPlaySpeed) {\n            this.clearScheduledTransition();\n        }\n        else {\n            this.scheduleNextTransition();\n        }\n    }\n    ngOnDestroy() {\n        this.clearScheduledTransition();\n        if (this.strategy) {\n            this.strategy.dispose();\n        }\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n    onKeyDown(e) {\n        if (e.keyCode === LEFT_ARROW) {\n            e.preventDefault();\n            this.pre();\n        }\n        else if (e.keyCode === RIGHT_ARROW) {\n            this.next();\n            e.preventDefault();\n        }\n    }\n    next() {\n        this.goTo(this.activeIndex + 1);\n    }\n    pre() {\n        this.goTo(this.activeIndex - 1);\n    }\n    goTo(index) {\n        if (this.carouselContents && this.carouselContents.length && !this.isTransiting) {\n            const length = this.carouselContents.length;\n            const from = this.activeIndex;\n            const to = (index + length) % length;\n            this.isTransiting = true;\n            this.nzBeforeChange.emit({ from, to });\n            this.strategy.switch(this.activeIndex, index).subscribe(() => {\n                this.scheduleNextTransition();\n                this.nzAfterChange.emit(index);\n                this.isTransiting = false;\n            });\n            this.markContentActive(to);\n            this.cdr.markForCheck();\n        }\n    }\n    switchStrategy() {\n        if (this.strategy) {\n            this.strategy.dispose();\n        }\n        // Load custom strategies first.\n        const customStrategy = this.customStrategies ? this.customStrategies.find(s => s.name === this.nzEffect) : null;\n        if (customStrategy) {\n            this.strategy = new customStrategy.strategy(this, this.cdr, this.renderer, this.platform);\n            return;\n        }\n        this.strategy =\n            this.nzEffect === 'scrollx'\n                ? new NzCarouselTransformStrategy(this, this.cdr, this.renderer, this.platform)\n                : new NzCarouselOpacityStrategy(this, this.cdr, this.renderer, this.platform);\n    }\n    scheduleNextTransition() {\n        this.clearScheduledTransition();\n        if (this.nzAutoPlay && this.nzAutoPlaySpeed > 0 && this.platform.isBrowser) {\n            this.transitionInProgress = setTimeout(() => {\n                this.goTo(this.activeIndex + 1);\n            }, this.nzAutoPlaySpeed);\n        }\n    }\n    clearScheduledTransition() {\n        if (this.transitionInProgress) {\n            clearTimeout(this.transitionInProgress);\n            this.transitionInProgress = null;\n        }\n    }\n    markContentActive(index) {\n        this.activeIndex = index;\n        if (this.carouselContents) {\n            this.carouselContents.forEach((slide, i) => {\n                if (this.dir === 'rtl') {\n                    slide.isActive = index === this.carouselContents.length - 1 - i;\n                }\n                else {\n                    slide.isActive = index === i;\n                }\n            });\n        }\n        this.cdr.markForCheck();\n    }\n    layout() {\n        if (this.strategy) {\n            this.strategy.withCarouselContents(this.carouselContents);\n        }\n    }\n}\nNzCarouselComponent.ɵfac = function NzCarouselComponent_Factory(t) { return new (t || NzCarouselComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzResizeService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzDragService), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(NZ_CAROUSEL_CUSTOM_STRATEGIES, 8)); };\nNzCarouselComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NzCarouselComponent, selectors: [[\"nz-carousel\"]], contentQueries: function NzCarouselComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, NzCarouselContentDirective, 4);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.carouselContents = _t);\n    } }, viewQuery: function NzCarouselComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n        ɵngcc0.ɵɵviewQuery(_c1, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickList = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.slickTrack = _t.first);\n    } }, hostVars: 4, hostBindings: function NzCarouselComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-carousel-vertical\", ctx.vertical)(\"ant-carousel-rtl\", ctx.dir === \"rtl\");\n    } }, inputs: { nzEffect: \"nzEffect\", nzEnableSwipe: \"nzEnableSwipe\", nzDots: \"nzDots\", nzAutoPlay: \"nzAutoPlay\", nzAutoPlaySpeed: \"nzAutoPlaySpeed\", nzTransitionSpeed: \"nzTransitionSpeed\", nzStrategyOptions: \"nzStrategyOptions\", nzDotPosition: \"nzDotPosition\", nzDotRender: \"nzDotRender\" }, outputs: { nzBeforeChange: \"nzBeforeChange\", nzAfterChange: \"nzAfterChange\" }, exportAs: [\"nzCarousel\"], features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c3, decls: 9, vars: 3, consts: [[1, \"slick-initialized\", \"slick-slider\"], [\"tabindex\", \"-1\", 1, \"slick-list\", 3, \"keydown\", \"mousedown\", \"touchstart\"], [\"slickList\", \"\"], [1, \"slick-track\"], [\"slickTrack\", \"\"], [\"class\", \"slick-dots\", 3, \"slick-dots-top\", \"slick-dots-bottom\", \"slick-dots-left\", \"slick-dots-right\", 4, \"ngIf\"], [\"renderDotTemplate\", \"\"], [1, \"slick-dots\"], [3, \"slick-active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]], template: function NzCarouselComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1, 2);\n        ɵngcc0.ɵɵlistener(\"keydown\", function NzCarouselComponent_Template_div_keydown_1_listener($event) { return ctx.onKeyDown($event); })(\"mousedown\", function NzCarouselComponent_Template_div_mousedown_1_listener($event) { return ctx.pointerDown($event); })(\"touchstart\", function NzCarouselComponent_Template_div_touchstart_1_listener($event) { return ctx.pointerDown($event); });\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3, 4);\n        ɵngcc0.ɵɵprojection(5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, NzCarouselComponent_ul_6_Template, 2, 9, \"ul\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(7, NzCarouselComponent_ng_template_7_Template, 2, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"slick-vertical\", ctx.nzDotPosition === \"left\" || ctx.nzDotPosition === \"right\");\n        ɵngcc0.ɵɵadvance(6);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzDots);\n    } }, directives: [ɵngcc5.NgIf, ɵngcc5.NgForOf, ɵngcc5.NgTemplateOutlet], encapsulation: 2, changeDetection: 0 });\nNzCarouselComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NzConfigService },\n    { type: Renderer2 },\n    { type: ChangeDetectorRef },\n    { type: Platform },\n    { type: NzResizeService },\n    { type: NzDragService },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: Array, decorators: [{ type: Optional }, { type: Inject, args: [NZ_CAROUSEL_CUSTOM_STRATEGIES,] }] }\n];\nNzCarouselComponent.propDecorators = {\n    carouselContents: [{ type: ContentChildren, args: [NzCarouselContentDirective,] }],\n    slickList: [{ type: ViewChild, args: ['slickList', { static: false },] }],\n    slickTrack: [{ type: ViewChild, args: ['slickTrack', { static: false },] }],\n    nzDotRender: [{ type: Input }],\n    nzEffect: [{ type: Input }],\n    nzEnableSwipe: [{ type: Input }],\n    nzDots: [{ type: Input }],\n    nzAutoPlay: [{ type: Input }],\n    nzAutoPlaySpeed: [{ type: Input }],\n    nzTransitionSpeed: [{ type: Input }],\n    nzStrategyOptions: [{ type: Input }],\n    nzDotPosition: [{ type: Input }],\n    nzBeforeChange: [{ type: Output }],\n    nzAfterChange: [{ type: Output }]\n};\n__decorate([\n    WithConfig(),\n    __metadata(\"design:type\", String)\n], NzCarouselComponent.prototype, \"nzEffect\", void 0);\n__decorate([\n    WithConfig(),\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzCarouselComponent.prototype, \"nzEnableSwipe\", void 0);\n__decorate([\n    WithConfig(),\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzCarouselComponent.prototype, \"nzDots\", void 0);\n__decorate([\n    WithConfig(),\n    InputBoolean(),\n    __metadata(\"design:type\", Boolean)\n], NzCarouselComponent.prototype, \"nzAutoPlay\", void 0);\n__decorate([\n    WithConfig(),\n    InputNumber(),\n    __metadata(\"design:type\", Number)\n], NzCarouselComponent.prototype, \"nzAutoPlaySpeed\", void 0);\n__decorate([\n    InputNumber(),\n    __metadata(\"design:type\", Object)\n], NzCarouselComponent.prototype, \"nzTransitionSpeed\", void 0);\n__decorate([\n    WithConfig(),\n    __metadata(\"design:type\", String),\n    __metadata(\"design:paramtypes\", [String])\n], NzCarouselComponent.prototype, \"nzDotPosition\", null);\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselContentDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[nz-carousel-content]',\n                exportAs: 'nzCarouselContent'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, null); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n                selector: 'nz-carousel',\n                exportAs: 'nzCarousel',\n                preserveWhitespaces: false,\n                template: `\n    <div class=\"slick-initialized slick-slider\" [class.slick-vertical]=\"nzDotPosition === 'left' || nzDotPosition === 'right'\">\n      <div\n        #slickList\n        class=\"slick-list\"\n        tabindex=\"-1\"\n        (keydown)=\"onKeyDown($event)\"\n        (mousedown)=\"pointerDown($event)\"\n        (touchstart)=\"pointerDown($event)\"\n      >\n        <!-- Render carousel items. -->\n        <div class=\"slick-track\" #slickTrack>\n          <ng-content></ng-content>\n        </div>\n      </div>\n      <!-- Render dots. -->\n      <ul\n        class=\"slick-dots\"\n        *ngIf=\"nzDots\"\n        [class.slick-dots-top]=\"nzDotPosition === 'top'\"\n        [class.slick-dots-bottom]=\"nzDotPosition === 'bottom'\"\n        [class.slick-dots-left]=\"nzDotPosition === 'left'\"\n        [class.slick-dots-right]=\"nzDotPosition === 'right'\"\n      >\n        <li *ngFor=\"let content of carouselContents; let i = index\" [class.slick-active]=\"content.isActive\" (click)=\"onLiClick(i)\">\n          <ng-template [ngTemplateOutlet]=\"nzDotRender || renderDotTemplate\" [ngTemplateOutletContext]=\"{ $implicit: i }\"></ng-template>\n        </li>\n      </ul>\n    </div>\n\n    <ng-template #renderDotTemplate let-index>\n      <button>{{ index + 1 }}</button>\n    </ng-template>\n  `,\n                host: {\n                    '[class.ant-carousel-vertical]': 'vertical',\n                    '[class.ant-carousel-rtl]': `dir ==='rtl'`\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.NzConfigService }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc2.Platform }, { type: ɵngcc3.NzResizeService }, { type: ɵngcc3.NzDragService }, { type: ɵngcc4.Directionality, decorators: [{\n                type: Optional\n            }] }, { type: Array, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [NZ_CAROUSEL_CUSTOM_STRATEGIES]\n            }] }]; }, { nzEffect: [{\n            type: Input\n        }], nzEnableSwipe: [{\n            type: Input\n        }], nzDots: [{\n            type: Input\n        }], nzAutoPlay: [{\n            type: Input\n        }], nzAutoPlaySpeed: [{\n            type: Input\n        }], nzTransitionSpeed: [{\n            type: Input\n        }], nzStrategyOptions: [{\n            type: Input\n        }], nzBeforeChange: [{\n            type: Output\n        }], nzAfterChange: [{\n            type: Output\n        }], nzDotPosition: [{\n            type: Input\n        }], carouselContents: [{\n            type: ContentChildren,\n            args: [NzCarouselContentDirective]\n        }], slickList: [{\n            type: ViewChild,\n            args: ['slickList', { static: false }]\n        }], slickTrack: [{\n            type: ViewChild,\n            args: ['slickTrack', { static: false }]\n        }], nzDotRender: [{\n            type: Input\n        }] }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nclass NzCarouselModule {\n}\nNzCarouselModule.ɵfac = function NzCarouselModule_Factory(t) { return new (t || NzCarouselModule)(); };\nNzCarouselModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NzCarouselModule });\nNzCarouselModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[BidiModule, CommonModule, PlatformModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NzCarouselModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [NzCarouselComponent, NzCarouselContentDirective],\n                exports: [NzCarouselComponent, NzCarouselContentDirective],\n                imports: [BidiModule, CommonModule, PlatformModule]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzCarouselModule, { declarations: function () { return [NzCarouselComponent, NzCarouselContentDirective]; }, imports: function () { return [BidiModule, CommonModule, PlatformModule]; }, exports: function () { return [NzCarouselComponent, NzCarouselContentDirective]; } }); })();\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NZ_CAROUSEL_CUSTOM_STRATEGIES, NzCarouselBaseStrategy, NzCarouselComponent, NzCarouselContentDirective, NzCarouselModule };\n\n//# sourceMappingURL=ng-zorro-antd-carousel.js.map"]},"metadata":{},"sourceType":"module"}